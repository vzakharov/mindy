(window.webpackJsonp=window.webpackJsonp||[]).push([[26,9,10,11,12,13,15,16,17,19,22,23,25,30],{393:function(t,e,n){"use strict";var r,o,c,l=n(33);n(1);o=!1,r=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.args,r=e.callback,c=e.method,d=void 0===c?"debug":c;o||((t=console)[d].apply(t,Object(l.a)(n)),"function"==typeof r&&r());return n[n.length-1]},c=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r({args:e})},c.breakpoint=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r({args:e,callback:function(){}})},["log","warn","debug","error"].forEach((function(t){return c[t]=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return r({args:n,method:t})}})),c.disable=function(){return o=!0},e.a=c},395:function(t,e){let n;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return r[t]},e.getBCHDigit=function(data){let t=0;for(;0!==data;)t++,data>>>=1;return t},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');n=t},e.isKanjiModeEnabled=function(){return void 0!==n},e.toSJIS=function(t){return n(t)}},396:function(t,e,n){const r=n(410),o=n(411);e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!r.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return o.testNumeric(t)?e.NUMERIC:o.testAlphanumeric(t)?e.ALPHANUMERIC:o.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(t){return n}}},397:function(t,e,n){"use strict";var r,o=n(0);n(15),n(24);r=function(t){return t},e.a=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=n.deep,l=n.save,d=void 0===l?r:l,h=n.load,f=void 0===h?r:h;return{data:function(){var e;if(null==this.$options.propsData.value)throw new Error("Component ".concat(this.$options.name," requires a `value` prop. Make sure to use :value or v-model in the parent component to represent `").concat(t,"`."));return e={},Object(o.a)(e,t,null),Object(o.a)(e,"syncValue",{watchers:[]}),e},watch:(e={},Object(o.a)(e,t,{deep:c,handler:function(t){return this.$emit("input",d.call(this,t))}}),Object(o.a)(e,"value",{deep:c,immediate:!0,handler:function(e){return this[t]=f.call(this,e)}}),e)}}},398:function(t,e,n){"use strict";n(1),n(3),n(5);e.a={created:function(){var t=this;return this.updated={},this.update={},Object.keys(this.$options.propsData).forEach((function(e){return Object.defineProperty(t.updated,e,{get:function(){return t[e]},set:function(n){return t.$emit("update:".concat(e),n),console.debug("Emitted `update:".concat(e,"` event with value"),n)}}),t.update[e]=function(n){return t.updated[e]=Object.assign({},t.updated[e],n)}}))}}},399:function(t,e,n){"use strict";var r,o=n(0),c=n(34),l=(n(84),n(1),n(15),n(5),n(4),n(2),n(6),n(3),n(7),n(394)),d=n.n(l);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={data:function(){return{busy:{},whilst:{}}},methods:{actionPromise:function(t){return d.a.get(this.whilst,t,Promise.resolve())},try:(r=Object(c.a)(regeneratorRuntime.mark((function t(e,n){var r,o,c,l,h,track,m,y,v,w,x,C,O=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=O.length>2&&void 0!==O[2]?O[2]:{},o=r.oneAtATime,c=r.errorMessage,l=r.except,h=r.track,track=void 0===h||h,m=r.mixpanelProps,!o||!d.a.get(this.whilst,e)){t.next=4;break}return console.warn("Already ".concat(e,"; skipping")),t.abrupt("return",d.a.get(this.whilst,e));case 4:return track&&(v=this.mixpanel),this.$set(this.busy,e,!0),x=null,w=null,d.a.set(this.whilst,e,new Promise((function(t,e){return x=t,w=e}))),t.prev=9,console.log("Started ".concat(e)),null!=v&&v.track("".concat(e," started"),m),t.t0=x,t.next=15,n.call(this);case 15:return t.t1=C=t.sent,(0,t.t0)(t.t1),null!=v&&v.track("".concat(e," succeeded"),m),t.abrupt("return",C);case 21:return t.prev=21,t.t2=t.catch(9),y=t.t2,console.error("Error while ".concat(e,": ").concat(y)),null!=v&&v.track("".concat(e," failed"),f({error:y.message},m)),"function"==typeof c&&(c=c(y)),this.alert(c),"function"==typeof l&&l(y),t.abrupt("return",w(y));case 30:return t.prev=30,this.$set(this.busy,e,!1),d.a.unset(this.whilst,e),console.log("Finished ".concat(e)),t.finish(30);case 35:case"end":return t.stop()}}),t,this,[[9,21,30,35]])}))),function(t,e){return r.apply(this,arguments)}),alert:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Something went wrong.";return this.$bvToast.toast("See console for error details.",{title:t,variant:"danger",solid:!0,autoHideDelay:5e3})}}}},400:function(t,e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(t){return n}}},401:function(t,e,n){"use strict";var r=n(451),o=n.n(r);e.a={data:function(){return o.a.init("f9ed5012981005142ed33251c919eb41",{debug:!0}),{mixpanel:o.a}}}},403:function(t,e,n){"use strict";n.r(e);var r={props:["icon"]},o=n(68),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"bi bi-send",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 16 16"}},["send"===t.icon?n("path",{attrs:{d:"M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576 6.636 10.07Zm6.787-8.201L1.591 6.602l4.339 2.76 7.494-7.493Z"}}):"magic"===t.icon?n("path",{attrs:{d:"M9.5 2.672a.5.5 0 1 0 1 0V.843a.5.5 0 0 0-1 0v1.829Zm4.5.035A.5.5 0 0 0 13.293 2L12 3.293a.5.5 0 1 0 .707.707L14 2.707ZM7.293 4A.5.5 0 1 0 8 3.293L6.707 2A.5.5 0 0 0 6 2.707L7.293 4Zm-.621 2.5a.5.5 0 1 0 0-1H4.843a.5.5 0 1 0 0 1h1.829Zm8.485 0a.5.5 0 1 0 0-1h-1.829a.5.5 0 0 0 0 1h1.829ZM13.293 10A.5.5 0 1 0 14 9.293L12.707 8a.5.5 0 1 0-.707.707L13.293 10ZM9.5 11.157a.5.5 0 0 0 1 0V9.328a.5.5 0 0 0-1 0v1.829Zm1.854-5.097a.5.5 0 0 0 0-.706l-.708-.708a.5.5 0 0 0-.707 0L8.646 5.94a.5.5 0 0 0 0 .707l.708.708a.5.5 0 0 0 .707 0l1.293-1.293Zm-3 3a.5.5 0 0 0 0-.706l-.708-.708a.5.5 0 0 0-.707 0L.646 13.94a.5.5 0 0 0 0 .707l.708.708a.5.5 0 0 0 .707 0L8.354 9.06Z"}}):t._e()])}),[],!1,null,null,null);e.default=component.exports},407:function(t,e,n){"use strict";var r=n(0),o=n(35),c=n(40),l=(n(1),n(51),n(18),n(2),n(16),n(3),n(15),n(5),n(4),n(6),n(7),n(417)),d=n(393),h=n(394),f=n.n(h);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=function(){var t,e,n,h,m,v,w,x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=x.prefix,O=x.keys,k=x.format,M=void 0===k?"json":k;return"yaml"===M?(m=l.a.load,n=l.a.dump):(m=JSON.parse,n=JSON.stringify),w=null,t=function(t,e){return"object"===Object(c.a)(e)&&null!==e?m(t||null):"number"==typeof e?parseFloat(t||null):"boolean"==typeof e?"boolean"==typeof t?t:"true"===t:t||null},v=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(f.a.identity).join(".")},e=O.reduce((function(t,e){var n;if(f.a.isArray(e)){var c=e,l=Object(o.a)(c,2);e=l[0],n=l[1].dataPath}return Object.assign(t,Object(r.a)({},e,v(n,e)))}),{}),O=O.map((function(t){return f.a.isArray(t)?t[0]:t})),h=O.reduce((function(t,e){return Object.assign(t,Object(r.a)({},e,v(C,e)))}),{}),{data:function(){return{syncLocal:{promise:new Promise((function(t){return w=t})),values:null,loaded:!1,ignoreWatchers:[]}}},mounted:function(){var n=this;return O.forEach((function(r){var o,c,l;if(l=window.localStorage.getItem(h[r]),o=e[r],void 0===(c=f.a.get(n,o)))throw new Error("Default value for key `".concat(r,"` does not exist at `").concat(o,"`"));return l=t(l,c),f.a.set(n,o,Object(d.a)("Setting ".concat(r," at ").concat(o," to:"),f.a.isObject(c)&&!f.a.isArray(c)?y(y({},c),l):l||c))})),this.$nextTick((function(){return Object.assign(n.syncLocal,{values:f.a.mapValues(e,(function(t){return f.a.get(n,t)})),loaded:!0}),w(n.syncLocal.values)}))},watch:y({},O.reduce((function(t,e){return Object.assign(t,Object(r.a)({},e,{deep:!0,handler:function(t){var r;return this.syncLocal.loaded?(r=h[e],window.localStorage.setItem(r,"object"===Object(c.a)(t)?n(t):t),this.syncLocal.ignoreWatchers=f.a.without(this.syncLocal.ignoreWatchers,e)):this.syncLocal.ignoreWatchers.push(e)}}))}),{}))}}},409:function(t,e,n){const r=n(400),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],c=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case r.L:return o[4*(t-1)+0];case r.M:return o[4*(t-1)+1];case r.Q:return o[4*(t-1)+2];case r.H:return o[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case r.L:return c[4*(t-1)+0];case r.M:return c[4*(t-1)+1];case r.Q:return c[4*(t-1)+2];case r.H:return c[4*(t-1)+3];default:return}}},410:function(t,e){e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},411:function(t,e){const n="[0-9]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+")(?:.|[\r\n]))+";e.KANJI=new RegExp(r,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(o,"g"),e.NUMERIC=new RegExp(n,"g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const c=new RegExp("^"+r+"$"),l=new RegExp("^[0-9]+$"),d=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return c.test(t)},e.testNumeric=function(t){return l.test(t)},e.testAlphanumeric=function(t){return d.test(t)}},412:function(t,e){function n(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push("F","F");const n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});const e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,r=t.width&&t.width>=21?t.width:void 0,o=t.scale||4;return{width:r,scale:r?4:o,margin:e,color:{dark:n(t.color.dark||"#000000ff"),light:n(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,n){const r=e.getScale(t,n);return Math.floor((t+2*n.margin)*r)},e.qrToImageData=function(t,n,r){const o=n.modules.size,data=n.modules.data,c=e.getScale(o,r),l=Math.floor((o+2*r.margin)*c),d=r.margin*c,h=[r.color.light,r.color.dark];for(let i=0;i<l;i++)for(let e=0;e<l;e++){let n=4*(i*l+e),f=r.color.light;if(i>=d&&e>=d&&i<l-d&&e<l-d){f=h[data[Math.floor((i-d)/c)*o+Math.floor((e-d)/c)]?1:0]}t[n++]=f.r,t[n++]=f.g,t[n++]=f.b,t[n]=f.a}}},413:function(t,e,n){"use strict";(function(t){n(5),n(4),n(2),n(1),n(6),n(3),n(7);var r=n(34),o=n(0),c=(n(84),n(87)),l=n.n(c),d=n(394),h=n.n(d),f=n(393);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=function(){var e,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=o.polygonAPIurl,d=void 0===c?"https://ideality.app/api/polygon":c,m=o.templatesDatabaseId,v=void 0===m?"485b3bd6b4524c1dbd9ef2acc5bccfbf":m,w=o.upvotesDatabaseId,x=void 0===w?"ecdca719f95b4eeab4c86118e44d162c":w,C=o.openAIkey,O=void 0===C?t.env.OPENAI_KEY:C,k=o.defaultParameters,M=void 0===k?{}:k,E=o.spent,A=o.vm,j=o.vmKey;return e=l.a.create({baseURL:d}),console.log("Polygon client initialized",{polygonAPIurl:d,templatesDatabaseId:v,upvotesDatabaseId:x,openAIkey:O,defaultParameters:M}),{spent:E,run:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return console.log("Running",t,{variables:r,parameters:o}),e.post("/run",{databaseId:v,slug:t,openAIkey:O,variables:r,parameters:y(y({},M),o)}).then((function(t){var data=t.data;return Object(f.a)("USD spent",n.spent+=data.approximateCost),A&&(A[j]=n.spent),data}))},generate:(n=Object(r.a)(regeneratorRuntime.mark((function t(n,input){var data,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Generating",n,input),h.a.isArray(n)||(n=[n]),t.next=4,e.post("/generate",{outputKeys:n,input:input,openAIkey:O});case 4:return r=t.sent,data=r.data,t.abrupt("return",Object(f.a)("Generated:",data));case 7:case"end":return t.stop()}}),t)}))),function(t,e){return n.apply(this,arguments)}),upvote:function(t){return console.log("Upvoting",t),e.post("/upvote",{databaseId:x,generationId:t}).then((function(t){return t.data}))}}}}).call(this,n(135))},414:function(t,e,n){"use strict";var r,o=n(33),c=(n(133),n(1),n(2),n(15),n(426),n(427),n(16),n(171),n(3),n(394)),l=n.n(c),d=n(393);r=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.childOrder,c=void 0===r?[["createdAt","desc"]]:r,h=n.vm;return Object.assign(this,{items:t,root:{id:0},find:function(t){return l.a.find(this.items,{id:t})},getters:{parent:function(e){return t.find((function(i){return i.id===e.parentId}))||this.root},children:function(e){return l()(t).filter((function(t){return(null!=e?e.id:void 0)?t.parentId===e.id:!t.parentId})).orderBy(c).value()},hasChildren:function(t){return this.children(t).length>0},orphans:function(){return this.children(this.root)},descendants:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return[].concat(Object(o.a)(n?[t]:[]),Object(o.a)(l.a.flatMap(this.children(t),(function(t){return e.descendants(t)}))))},siblings:function(e){var n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.a.orderBy(t.filter((function(t){return n.parent(t)===n.parent(e)&&(r||t!==e)}),c))},numSiblings:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.siblings(t,e).length},siblingIndex:function(t){return this.siblings(t).indexOf(t)},sibling:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;for(e=((e=this.siblingIndex(t))+n)%this.numSiblings(t);e<0;)e+=this.numSiblings(t);return this.siblings(t)[e]},nextSibling:function(t){return this.sibling(t,1)},prevSibling:function(t){return this.sibling(t,-1)},ancestors:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.breakAt;return(null!=t?t.parentId:void 0)&&t.parentId!==(null!=n?n.id:void 0)?[this.parent(t)].concat(Object(o.a)(this.ancestors(this.parent(t),{breakAt:n}))):[]},lineage:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.includeSelf,c=void 0===r||r,l=n.breakAt;return e=Object(o.a)(this.ancestors(t,{breakAt:l})).reverse(),c&&t&&e.push(t),(null!=e?e[0]:void 0)===this.root&&e.shift(),e},heir:function(t){var e,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=o.nested;return e=this.children(t),t&&e.length?(n=e[null!=(r=t.heirIndex)?r:0],c?this.heir(n,{nested:!0}):void 0):t},thread:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t)return this.lineage(e?this.heir(t,{nested:!0}):t)},heritage:function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.includeSelf,c=void 0===o||o;return n=this.thread(t),e=this.lineage(t,{includeSelf:!c}),l.a.difference(n,e)}},cache:{},createChild:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(d.a)({item:e},Object.assign(n,{parentId:null!=e?e.id:void 0,id:l()(t).map("id").max()+1||1,createdAt:new Date}))},clone:function(t){return this.createChild(this.parent(t),l.a.omit(t,"id","createdAt"))},delete:function(e){var n,r=this;return n=this.children(e),t.splice(t.indexOf(e),1),n.forEach((function(t){return r.delete(t)})),t},nudge:function(t){var e,n;if(n=this.parent(t))return Object(d.a)("Nudging item ".concat(t.id," to be the heir of its parent ").concat(n.id),e=this.siblingIndex(t)),h?h.$set(n,"heirIndex",e):l.a.assign(n,{heirIndex:e})}}),l.a.forEach(this.getters,(function(t,n){return e[n]=function(e){for(var path,r,o=arguments.length,c=new Array(o>1?o-1:0),d=1;d<o;d++)c[d-1]=arguments[d];return path=[null!=(r=null!=e?e.id:void 0)?r:"undefined",n,JSON.stringify(c)],l.a.has(this.cache,path)||l.a.set(this.cache,path,t.apply(this,[e].concat(c))),l.a.get(this.cache,path)}})),this},e.a=r},415:function(t,e,n){"use strict";n.r(e);var r={props:["icon","caption","expandable","expanded"]},o=n(68),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btn btn-block btn-light text-left pl-4",attrs:{type:"button"}},[t.icon?n("b-icon",t._b({},"b-icon",{icon:t.icon},!1)):t._e(),n("div",{staticClass:"lead d-inline-block",staticStyle:{left:"1em",position:"relative"}},[t._v(t._s(t.caption))]),t.expandable?n("b-icon",{staticClass:"float-right pt-2",attrs:{icon:t.expanded?"chevron-up":"chevron-down"}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},418:function(t,e,n){"use strict";var r=n(8),o=n(111),c=n(48),l=n(69),d=r.TypeError,h=function(t,e,source,n,r,f,m,y){for(var element,v,w=r,x=0,C=!!m&&l(m,y);x<n;){if(x in source){if(element=C?C(source[x],x,e):source[x],f>0&&o(element))v=c(element),w=h(t,e,element,v,w,f-1)-1;else{if(w>=9007199254740991)throw d("Exceed the acceptable array length");t[w]=element}w++}x++}return w};t.exports=h},419:function(t,e,n){"use strict";n(1),n(3),n(2);var r=n(394),o=n.n(r);n(393);e.a=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.footerRef;return e=function(element,footer){var t,e,n;return e=element.getBoundingClientRect().top,t=(null!=footer?footer.getBoundingClientRect().height:void 0)||0,n=window.innerHeight,element.style.height="".concat(n-e-t-1,"px")},{data:function(){return{autoHeight:{observer:null}}},mounted:function(){var n,element,footer,c,l=this,d=o.a.mapValues(this.$refs,(function(t){var e;return null!=(e=t.$el)?e:t}));return element=d[t],footer=d[r],(n=function(){return e(element,footer)})(),window.addEventListener("resize",o.a.debounce(n,100)),null!=(c=this.autoHeight.observer)&&c.disconnect(),this.autoHeight.observer=new MutationObserver(n),[element,footer].filter(o.a.identity).forEach((function(element){return l.autoHeight.observer.observe(element,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}))}}}},421:function(t,e,n){"use strict";n.r(e);n(38),n(11),n(22),n(394),n(393);var r={props:["id","element","text","editing"],mixins:[n(398).a],data:function(){return{clonedStyle:{},editedText:this.text}},methods:{commitAnd:function(t){return this.editedText=this.editedText.replace(/\n/g,"").replace(/ {2,}/g," ").trim(),this.editedText||(this.editedText="tba"),this.$emit("commit",[this.editedText,t]),this.updated.editing=!1}},watch:{editing:{immediate:!0,handler:function(t){var e,n,r,o,c;if(t){var l=this.element.getBoundingClientRect();return o=l.top,r=l.left,c=l.width,n=l.height,e=window.getComputedStyle(this.element).fontFamily,this.clonedStyle={top:"".concat(o,"px"),left:"".concat(r,"px"),width:"".concat(c,"px"),height:"".concat(n,"px"),fontFamily:e},this.element.style.visibility="hidden",this.$nextTick((function(){return this.$refs.editBox.focus()}))}return this.element.style.visibility="visible",this.clonedStyle={}}}}},o=n(68),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"position-fixed",style:t.clonedStyle},[n("b-popover",{attrs:{target:"box-"+t.id,triggers:"hover",placement:"bottom"}},[n("div",{staticClass:"d-flex justify-content-between"},[n("button",{staticClass:"btn btn-light btn-sm",on:{click:function(e){t.updated.editing=!0}}},[n("b-icon-pencil")],1),n("button",{staticClass:"btn btn-light btn-sm",on:{click:function(e){return t.$emit("expand")}}},[n("b-icon-plus")],1),n("button",{staticClass:"btn btn-light btn-sm",on:{click:function(e){return t.$emit("createSibling")}}},[n("b-icon-diagram-2")],1),n("button",{staticClass:"btn btn-light btn-sm",on:{click:function(e){return t.$emit("remove")}}},[n("b-icon-trash")],1),n("button",{staticClass:"btn btn-outline-primary btn-sm"},[n("Icon",{attrs:{icon:"magic"}})],1)])]),t.editing?n("b-textarea",{ref:"editBox",staticClass:"p-1 text-center",style:"height: 100%; width: 100%; font-size: 1.2em; font-family: inherit;"+(t.text?"":"min-width: 100px;"),on:{blur:t.commitAnd,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.commitAnd.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:(e.preventDefault(),t.commitAnd("expand"))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.shiftKey?t.commitAnd("createSibling"):null}]},model:{value:t.editedText,callback:function(e){t.editedText=e},expression:"editedText"}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Icon:n(403).default})},426:function(t,e,n){"use strict";var r=n(12),o=n(418),c=n(53),l=n(42),d=n(48),h=n(134);r({target:"Array",proto:!0},{flatMap:function(t){var e,n=l(this),r=d(n);return c(t),(e=h(n,0)).length=o(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},427:function(t,e,n){n(86)("flatMap")},428:function(t,e,n){const r=n(429),o=n(430),c=n(448),l=n(449);function d(t,canvas,text,e,n){const c=[].slice.call(arguments,1),l=c.length,d="function"==typeof c[l-1];if(!d&&!r())throw new Error("Callback required as last argument");if(!d){if(l<1)throw new Error("Too few arguments provided");return 1===l?(text=canvas,canvas=e=void 0):2!==l||canvas.getContext||(e=text,text=canvas,canvas=void 0),new Promise((function(n,r){try{const data=o.create(text,e);n(t(data,canvas,e))}catch(t){r(t)}}))}if(l<2)throw new Error("Too few arguments provided");2===l?(n=text,text=canvas,canvas=e=void 0):3===l&&(canvas.getContext&&void 0===n?(n=e,e=void 0):(n=e,e=text,text=canvas,canvas=void 0));try{const data=o.create(text,e);n(null,t(data,canvas,e))}catch(t){n(t)}}e.create=o.create,e.toCanvas=d.bind(null,c.render),e.toDataURL=d.bind(null,c.renderToDataURL),e.toString=d.bind(null,(function(data,t,e){return l.render(data,e)}))},429:function(t,e){t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},430:function(t,e,n){const r=n(395),o=n(400),c=n(431),l=n(432),d=n(433),h=n(434),f=n(435),m=n(409),y=n(436),v=n(439),w=n(440),x=n(396),C=n(441);function O(t,e,n){const r=t.size,o=w.getEncodedBits(e,n);let i,c;for(i=0;i<15;i++)c=1==(o>>i&1),i<6?t.set(i,8,c,!0):i<8?t.set(i+1,8,c,!0):t.set(r-15+i,8,c,!0),i<8?t.set(8,r-i-1,c,!0):i<9?t.set(8,15-i-1+1,c,!0):t.set(8,15-i-1,c,!0);t.set(r-8,8,1,!0)}function k(t,e,n){const o=new c;n.forEach((function(data){o.put(data.mode.bit,4),o.put(data.getLength(),x.getCharCountIndicator(data.mode,t)),data.write(o)}));const l=8*(r.getSymbolTotalCodewords(t)-m.getTotalCodewordsCount(t,e));for(o.getLengthInBits()+4<=l&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);const d=(l-o.getLengthInBits())/8;for(let i=0;i<d;i++)o.put(i%2?17:236,8);return function(t,e,n){const o=r.getSymbolTotalCodewords(e),c=m.getTotalCodewordsCount(e,n),l=o-c,d=m.getBlocksCount(e,n),h=d-o%d,f=Math.floor(o/d),v=Math.floor(l/d),w=v+1,x=f-v,C=new y(x);let O=0;const k=new Array(d),M=new Array(d);let E=0;const A=new Uint8Array(t.buffer);for(let b=0;b<d;b++){const t=b<h?v:w;k[b]=A.slice(O,O+t),M[b]=C.encode(k[b]),O+=t,E=Math.max(E,t)}const data=new Uint8Array(o);let i,j,_=0;for(i=0;i<E;i++)for(j=0;j<d;j++)i<k[j].length&&(data[_++]=k[j][i]);for(i=0;i<x;i++)for(j=0;j<d;j++)data[_++]=M[j][i];return data}(o,t,e)}function M(data,t,e,n){let o;if(Array.isArray(data))o=C.fromArray(data);else{if("string"!=typeof data)throw new Error("Invalid data");{let n=t;if(!n){const t=C.rawSplit(data);n=v.getBestVersionForData(t,e)}o=C.fromString(data,n||40)}}const c=v.getBestVersionForData(o,e);if(!c)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<c)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+c+".\n")}else t=c;const m=k(t,e,o),y=r.getSymbolSize(t),w=new l(y);return function(t,e){const n=t.size,r=h.getPositions(e);for(let i=0;i<r.length;i++){const e=r[i][0],col=r[i][1];for(let r=-1;r<=7;r++)if(!(e+r<=-1||n<=e+r))for(let o=-1;o<=7;o++)col+o<=-1||n<=col+o||(r>=0&&r<=6&&(0===o||6===o)||o>=0&&o<=6&&(0===r||6===r)||r>=2&&r<=4&&o>=2&&o<=4?t.set(e+r,col+o,!0,!0):t.set(e+r,col+o,!1,!0))}}(w,t),function(t){const e=t.size;for(let n=8;n<e-8;n++){const e=n%2==0;t.set(n,6,e,!0),t.set(6,n,e,!0)}}(w),function(t,e){const n=d.getPositions(e);for(let i=0;i<n.length;i++){const e=n[i][0],col=n[i][1];for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)-2===n||2===n||-2===r||2===r||0===n&&0===r?t.set(e+n,col+r,!0,!0):t.set(e+n,col+r,!1,!0)}}(w,t),O(w,e,0),t>=7&&function(t,e){const n=t.size,r=v.getEncodedBits(e);let o,col,c;for(let i=0;i<18;i++)o=Math.floor(i/3),col=i%3+n-8-3,c=1==(r>>i&1),t.set(o,col,c,!0),t.set(col,o,c,!0)}(w,t),function(t,data){const e=t.size;let n=-1,r=e-1,o=7,c=0;for(let col=e-1;col>0;col-=2)for(6===col&&col--;;){for(let e=0;e<2;e++)if(!t.isReserved(r,col-e)){let n=!1;c<data.length&&(n=1==(data[c]>>>o&1)),t.set(r,col-e,n),o--,-1===o&&(c++,o=7)}if(r+=n,r<0||e<=r){r-=n,n=-n;break}}}(w,m),isNaN(n)&&(n=f.getBestMask(w,O.bind(null,w,e))),f.applyMask(n,w),O(w,e,n),{modules:w,version:t,errorCorrectionLevel:e,maskPattern:n,segments:o}}e.create=function(data,t){if(void 0===data||""===data)throw new Error("No input text");let e,mask,n=o.M;return void 0!==t&&(n=o.from(t.errorCorrectionLevel,o.M),e=v.from(t.version),mask=f.from(t.maskPattern),t.toSJISFunc&&r.setToSJISFunction(t.toSJISFunc)),M(data,e,n,mask)}},431:function(t,e){function n(){this.buffer=[],this.length=0}n.prototype={get:function(t){const e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(let i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=n},432:function(t,e){function n(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}n.prototype.set=function(t,col,e,n){const r=t*this.size+col;this.data[r]=e,n&&(this.reservedBit[r]=!0)},n.prototype.get=function(t,col){return this.data[t*this.size+col]},n.prototype.xor=function(t,col,e){this.data[t*this.size+col]^=e},n.prototype.isReserved=function(t,col){return this.reservedBit[t*this.size+col]},t.exports=n},433:function(t,e,n){const r=n(395).getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];const e=Math.floor(t/7)+2,n=r(t),o=145===n?26:2*Math.ceil((n-13)/(2*e-2)),c=[n-7];for(let i=1;i<e-1;i++)c[i]=c[i-1]-o;return c.push(6),c.reverse()},e.getPositions=function(t){const n=[],r=e.getRowColCoords(t),o=r.length;for(let i=0;i<o;i++)for(let t=0;t<o;t++)0===i&&0===t||0===i&&t===o-1||i===o-1&&0===t||n.push([r[i],r[t]]);return n}},434:function(t,e,n){const r=n(395).getSymbolSize;e.getPositions=function(t){const e=r(t);return[[0,0],[e-7,0],[0,e-7]]}},435:function(t,e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n=3,r=3,o=40,c=10;function l(t,i,n){switch(t){case e.Patterns.PATTERN000:return(i+n)%2==0;case e.Patterns.PATTERN001:return i%2==0;case e.Patterns.PATTERN010:return n%3==0;case e.Patterns.PATTERN011:return(i+n)%3==0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(n/3))%2==0;case e.Patterns.PATTERN101:return i*n%2+i*n%3==0;case e.Patterns.PATTERN110:return(i*n%2+i*n%3)%2==0;case e.Patterns.PATTERN111:return(i*n%3+(i+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(mask){return null!=mask&&""!==mask&&!isNaN(mask)&&mask>=0&&mask<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(data){const t=data.size;let e=0,r=0,o=0,c=null,l=null;for(let d=0;d<t;d++){r=o=0,c=l=null;for(let col=0;col<t;col++){let t=data.get(d,col);t===c?r++:(r>=5&&(e+=n+(r-5)),c=t,r=1),t=data.get(col,d),t===l?o++:(o>=5&&(e+=n+(o-5)),l=t,o=1)}r>=5&&(e+=n+(r-5)),o>=5&&(e+=n+(o-5))}return e},e.getPenaltyN2=function(data){const t=data.size;let e=0;for(let n=0;n<t-1;n++)for(let col=0;col<t-1;col++){const t=data.get(n,col)+data.get(n,col+1)+data.get(n+1,col)+data.get(n+1,col+1);4!==t&&0!==t||e++}return e*r},e.getPenaltyN3=function(data){const t=data.size;let e=0,n=0,r=0;for(let o=0;o<t;o++){n=r=0;for(let col=0;col<t;col++)n=n<<1&2047|data.get(o,col),col>=10&&(1488===n||93===n)&&e++,r=r<<1&2047|data.get(col,o),col>=10&&(1488===r||93===r)&&e++}return e*o},e.getPenaltyN4=function(data){let t=0;const e=data.data.length;for(let i=0;i<e;i++)t+=data.data[i];return Math.abs(Math.ceil(100*t/e/5)-10)*c},e.applyMask=function(pattern,data){const t=data.size;for(let col=0;col<t;col++)for(let e=0;e<t;e++)data.isReserved(e,col)||data.xor(e,col,l(pattern,e,col))},e.getBestMask=function(data,t){const n=Object.keys(e.Patterns).length;let r=0,o=1/0;for(let p=0;p<n;p++){t(p),e.applyMask(p,data);const n=e.getPenaltyN1(data)+e.getPenaltyN2(data)+e.getPenaltyN3(data)+e.getPenaltyN4(data);e.applyMask(p,data),n<o&&(o=n,r=p)}return r}},436:function(t,e,n){const r=n(437);function o(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(t){this.degree=t,this.genPoly=r.generateECPolynomial(this.degree)},o.prototype.encode=function(data){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(data.length+this.degree);t.set(data);const e=r.mod(t,this.genPoly),n=this.degree-e.length;if(n>0){const t=new Uint8Array(this.degree);return t.set(e,n),t}return e},t.exports=o},437:function(t,e,n){const r=n(438);e.mul=function(t,e){const n=new Uint8Array(t.length+e.length-1);for(let i=0;i<t.length;i++)for(let o=0;o<e.length;o++)n[i+o]^=r.mul(t[i],e[o]);return n},e.mod=function(t,e){let n=new Uint8Array(t);for(;n.length-e.length>=0;){const t=n[0];for(let i=0;i<e.length;i++)n[i]^=r.mul(e[i],t);let o=0;for(;o<n.length&&0===n[o];)o++;n=n.slice(o)}return n},e.generateECPolynomial=function(t){let n=new Uint8Array([1]);for(let i=0;i<t;i++)n=e.mul(n,new Uint8Array([1,r.exp(i)]));return n}},438:function(t,e){const n=new Uint8Array(512),r=new Uint8Array(256);!function(){let t=1;for(let i=0;i<255;i++)n[i]=t,r[t]=i,t<<=1,256&t&&(t^=285);for(let i=255;i<512;i++)n[i]=n[i-255]}(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return r[t]},e.exp=function(t){return n[t]},e.mul=function(t,e){return 0===t||0===e?0:n[r[t]+r[e]]}},439:function(t,e,n){const r=n(395),o=n(409),c=n(400),l=n(396),d=n(410),h=r.getBCHDigit(7973);function f(t,e){return l.getCharCountIndicator(t,e)+4}function m(t,e){let n=0;return t.forEach((function(data){const t=f(data.mode,e);n+=t+data.getBitsLength()})),n}e.from=function(t,e){return d.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,n){if(!d.isValid(t))throw new Error("Invalid QR Code version");void 0===n&&(n=l.BYTE);const c=8*(r.getSymbolTotalCodewords(t)-o.getTotalCodewordsCount(t,e));if(n===l.MIXED)return c;const h=c-f(n,t);switch(n){case l.NUMERIC:return Math.floor(h/10*3);case l.ALPHANUMERIC:return Math.floor(h/11*2);case l.KANJI:return Math.floor(h/13);case l.BYTE:default:return Math.floor(h/8)}},e.getBestVersionForData=function(data,t){let n;const r=c.from(t,c.M);if(Array.isArray(data)){if(data.length>1)return function(t,n){for(let r=1;r<=40;r++)if(m(t,r)<=e.getCapacity(r,n,l.MIXED))return r}(data,r);if(0===data.length)return 1;n=data[0]}else n=data;return function(t,n,r){for(let o=1;o<=40;o++)if(n<=e.getCapacity(o,r,t))return o}(n.mode,n.getLength(),r)},e.getEncodedBits=function(t){if(!d.isValid(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;for(;r.getBCHDigit(e)-h>=0;)e^=7973<<r.getBCHDigit(e)-h;return t<<12|e}},440:function(t,e,n){const r=n(395),o=r.getBCHDigit(1335);e.getEncodedBits=function(t,mask){const data=t.bit<<3|mask;let e=data<<10;for(;r.getBCHDigit(e)-o>=0;)e^=1335<<r.getBCHDigit(e)-o;return 21522^(data<<10|e)}},441:function(t,e,n){const r=n(396),o=n(442),c=n(443),l=n(444),d=n(446),h=n(411),f=n(395),m=n(447);function y(t){return unescape(encodeURIComponent(t)).length}function v(t,e,n){const r=[];let o;for(;null!==(o=t.exec(n));)r.push({data:o[0],index:o.index,mode:e,length:o[0].length});return r}function w(t){const e=v(h.NUMERIC,r.NUMERIC,t),n=v(h.ALPHANUMERIC,r.ALPHANUMERIC,t);let o,c;f.isKanjiModeEnabled()?(o=v(h.BYTE,r.BYTE,t),c=v(h.KANJI,r.KANJI,t)):(o=v(h.BYTE_KANJI,r.BYTE,t),c=[]);return e.concat(n,o,c).sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function x(t,e){switch(e){case r.NUMERIC:return o.getBitsLength(t);case r.ALPHANUMERIC:return c.getBitsLength(t);case r.KANJI:return d.getBitsLength(t);case r.BYTE:return l.getBitsLength(t)}}function C(data,t){let e;const n=r.getBestModeForData(data);if(e=r.from(t,n),e!==r.BYTE&&e.bit<n.bit)throw new Error('"'+data+'" cannot be encoded with mode '+r.toString(e)+".\n Suggested mode is: "+r.toString(n));switch(e!==r.KANJI||f.isKanjiModeEnabled()||(e=r.BYTE),e){case r.NUMERIC:return new o(data);case r.ALPHANUMERIC:return new c(data);case r.KANJI:return new d(data);case r.BYTE:return new l(data)}}e.fromArray=function(t){return t.reduce((function(t,e){return"string"==typeof e?t.push(C(e,null)):e.data&&t.push(C(e.data,e.mode)),t}),[])},e.fromString=function(data,t){const n=function(t){const e=[];for(let i=0;i<t.length;i++){const n=t[i];switch(n.mode){case r.NUMERIC:e.push([n,{data:n.data,mode:r.ALPHANUMERIC,length:n.length},{data:n.data,mode:r.BYTE,length:n.length}]);break;case r.ALPHANUMERIC:e.push([n,{data:n.data,mode:r.BYTE,length:n.length}]);break;case r.KANJI:e.push([n,{data:n.data,mode:r.BYTE,length:y(n.data)}]);break;case r.BYTE:e.push([{data:n.data,mode:r.BYTE,length:y(n.data)}])}}return e}(w(data,f.isKanjiModeEnabled())),o=function(t,e){const table={},n={start:{}};let o=["start"];for(let i=0;i<t.length;i++){const c=t[i],l=[];for(let t=0;t<c.length;t++){const d=c[t],h=""+i+t;l.push(h),table[h]={node:d,lastCount:0},n[h]={};for(let t=0;t<o.length;t++){const c=o[t];table[c]&&table[c].node.mode===d.mode?(n[c][h]=x(table[c].lastCount+d.length,d.mode)-x(table[c].lastCount,d.mode),table[c].lastCount+=d.length):(table[c]&&(table[c].lastCount=d.length),n[c][h]=x(d.length,d.mode)+4+r.getCharCountIndicator(d.mode,e))}}o=l}for(let t=0;t<o.length;t++)n[o[t]].end=0;return{map:n,table:table}}(n,t),path=m.find_path(o.map,"start","end"),c=[];for(let i=1;i<path.length-1;i++)c.push(o.table[path[i]].node);return e.fromArray(function(t){return t.reduce((function(t,e){const n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[])}(c))},e.rawSplit=function(data){return e.fromArray(w(data,f.isKanjiModeEnabled()))}},442:function(t,e,n){const r=n(396);function o(data){this.mode=r.NUMERIC,this.data=data.toString()}o.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){let i,e,n;for(i=0;i+3<=this.data.length;i+=3)e=this.data.substr(i,3),n=parseInt(e,10),t.put(n,10);const r=this.data.length-i;r>0&&(e=this.data.substr(i),n=parseInt(e,10),t.put(n,3*r+1))},t.exports=o},443:function(t,e,n){const r=n(396),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function c(data){this.mode=r.ALPHANUMERIC,this.data=data}c.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},c.prototype.getLength=function(){return this.data.length},c.prototype.getBitsLength=function(){return c.getBitsLength(this.data.length)},c.prototype.write=function(t){let i;for(i=0;i+2<=this.data.length;i+=2){let e=45*o.indexOf(this.data[i]);e+=o.indexOf(this.data[i+1]),t.put(e,11)}this.data.length%2&&t.put(o.indexOf(this.data[i]),6)},t.exports=c},444:function(t,e,n){const r=n(445),o=n(396);function c(data){this.mode=o.BYTE,this.data=new Uint8Array(r(data))}c.getBitsLength=function(t){return 8*t},c.prototype.getLength=function(){return this.data.length},c.prototype.getBitsLength=function(){return c.getBitsLength(this.data.length)},c.prototype.write=function(t){for(let i=0,e=this.data.length;i<e;i++)t.put(this.data[i],8)},t.exports=c},445:function(t,e,n){"use strict";t.exports=function(input){for(var t=[],e=input.length,n=0;n<e;n++){var r=input.charCodeAt(n);if(r>=55296&&r<=56319&&e>n+1){var o=input.charCodeAt(n+1);o>=56320&&o<=57343&&(r=1024*(r-55296)+o-56320+65536,n+=1)}r<128?t.push(r):r<2048?(t.push(r>>6|192),t.push(63&r|128)):r<55296||r>=57344&&r<65536?(t.push(r>>12|224),t.push(r>>6&63|128),t.push(63&r|128)):r>=65536&&r<=1114111?(t.push(r>>18|240),t.push(r>>12&63|128),t.push(r>>6&63|128),t.push(63&r|128)):t.push(239,191,189)}return new Uint8Array(t).buffer}},446:function(t,e,n){const r=n(396),o=n(395);function c(data){this.mode=r.KANJI,this.data=data}c.getBitsLength=function(t){return 13*t},c.prototype.getLength=function(){return this.data.length},c.prototype.getBitsLength=function(){return c.getBitsLength(this.data.length)},c.prototype.write=function(t){let i;for(i=0;i<this.data.length;i++){let e=o.toSJIS(this.data[i]);if(e>=33088&&e<=40956)e-=33088;else{if(!(e>=57408&&e<=60351))throw new Error("Invalid SJIS character: "+this.data[i]+"\nMake sure your charset is UTF-8");e-=49472}e=192*(e>>>8&255)+(255&e),t.put(e,13)}},t.exports=c},447:function(t,e,n){"use strict";var r={single_source_shortest_paths:function(t,s,e){var n={},o={};o[s]=0;var c,u,l,d,h,f,m,y=r.PriorityQueue.make();for(y.push(s,0);!y.empty();)for(l in u=(c=y.pop()).value,d=c.cost,h=t[u]||{})h.hasOwnProperty(l)&&(f=d+h[l],m=o[l],(void 0===o[l]||m>f)&&(o[l]=f,y.push(l,f),n[l]=u));if(void 0!==e&&void 0===o[e]){var v=["Could not find a path from ",s," to ",e,"."].join("");throw new Error(v)}return n},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],u=e;u;)n.push(u),t[u],u=t[u];return n.reverse(),n},find_path:function(t,s,e){var n=r.single_source_shortest_paths(t,s,e);return r.extract_shortest_path_from_predecessor_list(n,e)},PriorityQueue:{make:function(t){var e,n=r.PriorityQueue,o={};for(e in t=t||{},n)n.hasOwnProperty(e)&&(o[e]=n[e]);return o.queue=[],o.sorter=t.sorter||n.default_sorter,o},default_sorter:function(a,b){return a.cost-b.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=r},448:function(t,e,n){const r=n(412);e.render=function(t,canvas,e){let n=e,o=canvas;void 0!==n||canvas&&canvas.getContext||(n=canvas,canvas=void 0),canvas||(o=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),n=r.getOptions(n);const c=r.getImageWidth(t.modules.size,n),l=o.getContext("2d"),image=l.createImageData(c,c);return r.qrToImageData(image.data,t,n),function(t,canvas,e){t.clearRect(0,0,canvas.width,canvas.height),canvas.style||(canvas.style={}),canvas.height=e,canvas.width=e,canvas.style.height=e+"px",canvas.style.width=e+"px"}(l,o,c),l.putImageData(image,0,0),o},e.renderToDataURL=function(t,canvas,n){let r=n;void 0!==r||canvas&&canvas.getContext||(r=canvas,canvas=void 0),r||(r={});const o=e.render(t,canvas,r),c=r.type||"image/png",l=r.rendererOpts||{};return o.toDataURL(c,l.quality)}},449:function(t,e,n){const r=n(412);function o(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function c(t,e,n){let r=t+e;return void 0!==n&&(r+=" "+n),r}e.render=function(t,e,n){const l=r.getOptions(e),d=t.modules.size,data=t.modules.data,h=d+2*l.margin,f=l.color.light.a?"<path "+o(l.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",path="<path "+o(l.color.dark,"stroke")+' d="'+function(data,t,e){let path="",n=0,r=!1,o=0;for(let i=0;i<data.length;i++){const col=Math.floor(i%t),l=Math.floor(i/t);col||r||(r=!0),data[i]?(o++,i>0&&col>0&&data[i-1]||(path+=r?c("M",col+e,.5+l+e):c("m",n,0),n=0,r=!1),col+1<t&&data[i+1]||(path+=c("h",o),o=0)):n++}return path}(data,d,l.margin)+'"/>',m='viewBox="0 0 '+h+" "+h+'"',y='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+m+' shape-rendering="crispEdges">'+f+path+"</svg>\n";return"function"==typeof n&&n(null,y),y}},450:function(t,e,n){"use strict";e.a={data:function(){return{window:null}},mounted:function(){return Object.assign(this,{window:window})}}},452:function(t,e,n){var content=n(488);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(109).default)("6b5548ee",content,!0,{sourceMap:!1})},453:function(t,e,n){var map={"./locale":404,"./locale.js":404};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=o,t.exports=r,r.id=453},455:function(t,e,n){"use strict";var r=n(394),o=n.n(r);e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:768;return{data:function(){return{narrow:!1,wide:!0,width:null}},mounted:function(){var e,n=this;return(e=function(){return n.width=window.innerWidth,n.narrow=n.width<t,n.wide=!n.narrow,console.log("Width changed to ".concat(n.width))})(),window.addEventListener("resize",o.a.debounce(e,100))}}}},456:function(t,e,n){var content=n(492);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(109).default)("7217f540",content,!0,{sourceMap:!1})},476:function(t,e,n){"use strict";n.r(e);n(248),n(85),n(110),n(15);var r={props:{value:{type:[String,Number],default:""},autosize:{type:Boolean,default:!0},minHeight:{type:[Number],default:null},maxHeight:{type:[Number],default:null},important:{type:[Boolean,Array],default:!1}},data:function(){return{val:null,maxHeightScroll:!1,height:"auto"}},computed:{computedStyles:function(){return this.autosize?{resize:this.isResizeImportant?"none !important":"none",height:this.height,overflow:this.maxHeightScroll?"auto":this.isOverflowImportant?"hidden !important":"hidden"}:{}},isResizeImportant:function(){var t=this.important;return!0===t||Array.isArray(t)&&t.includes("resize")},isOverflowImportant:function(){var t=this.important;return!0===t||Array.isArray(t)&&t.includes("overflow")},isHeightImportant:function(){var t=this.important;return!0===t||Array.isArray(t)&&t.includes("height")}},watch:{value:function(t){this.val=t},val:function(t){this.$nextTick(this.resize),this.$emit("input",t)},minHeight:function(){this.$nextTick(this.resize)},maxHeight:function(){this.$nextTick(this.resize)},autosize:function(t){t&&this.resize()}},methods:{resize:function(){var t=this,e=this.isHeightImportant?"important":"";return this.height="auto".concat(e?" !important":""),this.$nextTick((function(){var n=t.$el.scrollHeight+1;t.minHeight&&(n=n<t.minHeight?t.minHeight:n),t.maxHeight&&(n>t.maxHeight?(n=t.maxHeight,t.maxHeightScroll=!0):t.maxHeightScroll=!1);var r=n+"px";t.height="".concat(r).concat(e?" !important":"")})),this}},created:function(){this.val=this.value},mounted:function(){this.resize()}},o=n(68),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("textarea",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],style:t.computedStyles,domProps:{value:t.val},on:{focus:t.resize,input:function(e){e.target.composing||(t.val=e.target.value)}}})}),[],!1,null,null,null);e.default=component.exports},477:function(t,e,n){"use strict";n.r(e);var r={data:function(){return{themes:[{name:"flat",colors:["#1abc9c","#2ecc71","#3498db","#9b59b6","#34495e","#f1c40f","#e67e22","#e74c3c","#ecf0f1","#95a5a6","#f39c12","#d35400"]},{name:"material",colors:["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39"]},{name:"metro",colors:["#8E8E8E","#00ABA9","#F09609","#7CBB00","#F17601","#F8C300","#F05D23","#E00122","#68768A","#CA5010","#8E8E93","#5E7C85"]},{name:"office",colors:["#D11C24","#F68E1E","#FFC800","#0B6E48","#00A4A7","#2D1F90","#95B9C7","#7E57C2","#FFBE2E","#BC9C30","#BCD8C3","#DAE5E1"]},{name:"grayscale",colors:["#222222","#4D4D4D","#666666","#808080","#999999","#B3B3B3","#CCCCCC","#E6E6E6","#EEEEEE","#F5F5F5","#FFFFFF","#BFBFBF"]},{name:"pastel",colors:["#F49AC2","#FFD1DC","#F5D0CC","#F5F4C1","#D0F5CC","#D0F5F5","#D0D0F5","#F5D0F5","#F5D0D0","#F9F9F9","#CCCCCC","#D3D3D3"]}]}},methods:{emitTheme:function(t){return this.$emit("input",t)}}},o=n(68),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column"},t._l(t.themes,(function(e){return n("div",{staticClass:"d-flex flex-row align-items-stretch mb-2"},[n("div",{staticClass:"flex-grow-1"},[n("b-button",{attrs:{variant:"outline-secondary",size:"sm",block:""},on:{click:function(n){return t.emitTheme(e)}}},[t._v(t._s(e.name))])],1),n("div",{staticClass:"d-flex flex-row flex-wrap justify-content-center"},t._l(e.colors,(function(t){return n("div",{style:{backgroundColor:t,width:"2em",height:"100%"}})})),0)])})),0)}),[],!1,null,null,null);e.default=component.exports},478:function(t,e,n){"use strict";n.r(e);var r=n(35),o=(n(11),n(22),n(30),n(18),n(172),n(247),n(171),n(1),n(3),n(37),n(16),n(62),n(50),n(393)),c=n(462),l=n(454),d=n(399);Object(o.a)("Imported:",{mermaid:c.a,mindmap:l.a}),c.a.initialize({startOnLoad:!1}),c.a.registerExternalDiagrams([l.a]);var h={props:["code"],mixins:[d.a],data:function(){return{busy:{rendering:!1},boxes:[],svg:""}},computed:{mermaidString:function(){return this.code?"mindmap\n"+this.code.replace(/[~@\-~"()]/g,(function(t){return"#".concat(t.charCodeAt(0),";")})):"mindmap\nThis is your workspace\n  Start by asking questions in the chat\n  Mindy will automatically create a mindmap for you\n  Unsure what to ask? Click here"},actionBoxes:function(){var t=this;if(!this.code)return{4:function(){return t.$emit("randomQuery")}}},lines:{get:function(){return this.code.split("\n")},set:function(t){return this.code=t.join("\n")}}},methods:{getLevel:function(t){var e;return(null!=(e=this.lines[t].match(/\t/g))?e.length:void 0)||0},indent:function(text,t){return"\t".repeat(t)+text},expand:function(t){var e;return(e=this.lines).splice(t+1,0,this.indent("[ ]",this.getLevel(t)+1)),this.lines=e},createSibling:function(t){var i,e,n,r,c;for(c=i=n=t+1,r=(e=this.lines).length;(n<=r?i<r:i>r)&&!(this.getLevel(c)<=this.getLevel(t));c=n<=r?++i:--i);return e.splice(c,0,this.indent("[ ]",this.getLevel(t))),Object(o.a)("Lines after creating sibling:",this.lines=e)},remove:function(t){var i,e,n,r,o;if(window.confirm("Are you sure you want to delete this box and all its descendants? THERE IS NO UNDO!")){for(e=i=r=t+1,o=(n=this.lines).length;(r<=o?i<o:i>o)&&!(this.getLevel(e)<=this.getLevel(t));e=r<=o?++i:--i);return n.splice(t,e-t),this.lines=n}},updateText:function(t,e){var n,o=Object(r.a)(e,2),text=o[0],c=o[1];return(n=this.lines)[t]=this.indent(text,this.getLevel(t)),this.lines=n,"function"==typeof this[c]?this[c](t):void 0},render:function(){var t=this;return this.try("rendering",(function(){if(t.code)return c.a.renderAsync("mermaid-svg",t.mermaidString,(function(svg){return t.svg=svg}))}))}},watch:{svg:function(){var t,e,n=this;return t=document.getElementById("mermaid-container"),this.boxes=[],e=0,t.querySelectorAll(".mindmap-node").forEach((function(element){var t,r,o,text;return element.getBoundingClientRect(),r=Math.random().toString(36).substr(2,9),text=Array.from(element.querySelectorAll("tspan")).map((function(element){return element.textContent.replace(/\s{2,}/g," ")})).join(" "),t={element:element,id:r,text:text,editing:!text,index:e++},n.boxes.push(t),element.id="box-".concat(r),element.style.cursor="pointer",(null!=(o=n.actionBoxes)?o[e]:void 0)?element.onclick=n.actionBoxes[e]:element.onclick=function(){return n.$emit("elaborate",t.text)}}))},code:{immediate:!0,handler:function(code){return code?(console.log("Updating mermaid chart"),this.render()):(console.log("Clearing mermaid chart"),this.svg="")}}}},f=n(68),component=Object(f.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-100 d-flex flex-column justify-content-center align-items-center"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.busy.rendering&&t.code,expression:"!busy.rendering && code"}],ref:"container",staticClass:"w-100 d-flex flex-column justify-content-center align-items-center",attrs:{id:"mermaid-container"},domProps:{innerHTML:t._s(t.svg)}}),n("b-spinner",{directives:[{name:"show",rawName:"v-show",value:t.busy.rendering,expression:"busy.rendering"}]}),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.code,expression:"!code"}]},[n("h2",{staticClass:"display-6"},[t._v("This is your workspace")]),n("ul",{staticClass:"lead"},[n("li",[t._v("Start by asking questions in the chat")]),n("li",[t._v("Mindy will automatically create a mindmap for you")]),n("li",[t._v("Unsure what to ask? "),n("span",{staticClass:"text-primary",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.$emit("randomQuery")}}},[t._v("Click here")]),t._v(".")])])]),t._l(t.boxes,(function(e,r){return n("NodeManipulation",t._b({key:e.id,on:{expand:function(e){return t.expand(r)},createSibling:function(e){return t.createSibling(r)},remove:function(e){return t.remove(r)},commit:function(e){return t.updateText(r,e)}}},"NodeManipulation",e,!1,!0))}))],2)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{NodeManipulation:n(421).default})},479:function(t,e,n){"use strict";n.r(e);var r=n(397),o={props:["value","secondaryPaneIcon","brand","tagline"],mixins:[Object(r.a)("show",{deep:!0})]},c=n(68),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav",{staticClass:"navbar navbar-light bg-light justify-content-between align-items-center border-bottom"},[n("b-button",{staticClass:"btn-light btn-sm",attrs:{variant:t.show.sidebar?"outline-secondary":"light"},on:{click:function(e){t.show.sidebar=!t.show.sidebar}}},[n("span",{staticClass:"navbar-toggler-icon"})]),n("div",{staticClass:"lead d-inline pl-2",staticStyle:{"font-size":"1em"},attrs:{id:"mobile-brand"}},[n("strong",[t._v(t._s(t.brand)+"  ")]),t._v("· "+t._s(t.tagline))]),n("b-button",{staticClass:"d-md-none",attrs:{variant:t.show.secondaryPane?"outline-secondary":"light"},on:{click:function(e){t.show.secondaryPane=!t.show.secondaryPane}}},[n("b-icon",{staticClass:"text-muted",attrs:{icon:t.secondaryPaneIcon}})],1)],1)])}),[],!1,null,null,null);e.default=component.exports},487:function(t,e,n){"use strict";n(452)},488:function(t,e,n){var r=n(108)(!1);r.push([t.i,"body{font-size:.75em}.lightgray{color:#bbb}.icon-sm{font-size:100%!important}.message-content :last-child{margin-bottom:0}label{font-weight:700}.footer{border-top:1px solid #e7e7e7}.footer,.header{background-color:#f7f7f7}.header{border-bottom:1px solid #e7e7e7}",""]),t.exports=r},491:function(t,e,n){"use strict";n(456)},492:function(t,e,n){var r=n(108)(!1);r.push([t.i,".vh-minus-navbar{height:calc(100vh - var(--navbar-height))}#sidebar{display:flex;flex-direction:column;position:fixed;top:0;left:0;bottom:0;width:var(--sidebar-width);z-index:20}#main{padding-left:calc(var(--sidebar-width));padding-right:0}@media (max-width:1200px){#sidebar{position:fixed;top:var(--navbar-height);left:0;bottom:0;box-shadow:0 10px 10px rgba(0,0,0,.2);width:var(--sidebar-width);z-index:20}#main{padding-left:0}}@media (max-width:768px){#secondary-pane{position:fixed;top:var(--navbar-height);left:auto;right:0;bottom:0;background-color:#fff;box-shadow:0 10px 10px rgba(0,0,0,.2);width:100%;max-width:90vw;z-index:10}}.slide-left-enter-active,.slide-left-leave-active,.slide-right-enter-active,.slide-right-leave-active{transition:transform .3s}.slide-left-enter,.slide-left-leave-to{transform:translateX(100%)}.slide-right-enter,.slide-right-leave-to{transform:translateX(-100%)}",""]),t.exports=r},516:function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n},t.exports.__esModule=!0,t.exports.default=t.exports},532:function(t,e,n){"use strict";n.r(e);n(85),n(110),n(87),n(394),n(428),n(414),n(393);var r=n(398),o=n(450),c=n(401),l=n(419),d=(n(41),{data:function(){return{movingDots:"...",movingDotsInterval:null}},created:function(){return this.movingDotsInterval=setInterval(this.updateMovingDots,500)},beforeDestroy:function(){return clearInterval(this.movingDotsInterval)},methods:{updateMovingDots:function(){return this.movingDots=this.movingDots.length<3?this.movingDots+".":"."}}});n(413);var h={props:["id","messages","routedMessage","title","tree","thread","rootMessage","lastMessage","busy","query"],mixins:[r.a,o.a,c.a,Object(l.a)("messages",{footerRef:"input"}),d],data:function(){return{previousThread:null,dots:""}},computed:{isMultiline:function(){return this.query.includes("\n")}},methods:{editMessage:function(t){var content;if(content=window.prompt("Edit message:",t.content))return t.user.isBot?this.$emit("editMessage",{message:t,content:content}):this.$emit("query",{content:content,parent:this.tree.parent(t)})}}},f=(n(487),n(68)),component=Object(f.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h-100"},[n("div",{staticClass:"bg-light border-bottom px-3 py-2 py-md-4 d-flex justify-content-between align-items-center"},[n("div",{staticClass:"d-flex"},[n("h4",{staticClass:"mb-0"},[t._v(t._s(t.title)+t._s(t.busy.namingChats?t.movingDots:""))]),t.id?[n("button",{staticClass:"btn btn-light btn-sm pl-2 lightgray"},[n("b-icon-pencil",{staticClass:"icon-sm pb-1"})],1),n("button",{staticClass:"btn btn-light btn-sm lightgray",on:{click:function(e){return t.$emit("deleteChat")}}},[n("b-icon-trash",{staticClass:"icon-sm pb-1"})],1)]:t._e()],2),n("div",{staticClass:"d-flex"},[n("button",{staticClass:"btn btn-outline-secondary btn-sm mx-1 px-2"},[n("b-icon",{staticClass:"px-1",attrs:{icon:"bookmark"}}),t._v("Save")],1),n("button",{staticClass:"btn btn-light btn-sm mx-1 lightgray"},[n("b-icon",{attrs:{icon:"gear"}})],1)])]),n("div",{ref:"messages",staticStyle:{"overflow-y":"auto",height:"100%"},attrs:{id:"messages"}},[t._l(t.thread,(function(e,r){return n("nuxt-link",{key:r+"-"+t.routedMessage.id,staticClass:"message px-2",style:{"background-color":r%2?"#f7f7f7":"#fff",border:"1px solid "+(e===t.routedMessage&&t.routedMessage!=t.thread[t.thread.length-1]?"#007bff":"#fff"),cursor:"pointer"},attrs:{tag:"div",id:"message-"+e.id,to:{query:{id:e.id}}}},[t.tree.numSiblings(e)>1&&e!==t.thread[0]?[n("div",{staticStyle:{"font-size":"0.8em",color:"#aaa",float:"right"}},[n("nuxt-link",{staticClass:"mr-1",staticStyle:{color:"inherit"},attrs:{to:{query:{id:t.tree.sibling(e,-1).id}}},domProps:{textContent:t._s("< "+(t.tree.siblingIndex(e)+1))}}),t._v("/"),n("nuxt-link",{staticClass:"ml-1",staticStyle:{color:"inherit"},attrs:{to:{query:{id:t.tree.sibling(e,1).id}}},domProps:{textContent:t._s(t.tree.numSiblings(e)+" >")}})],1)]:t._e(),n("strong",[t._v(t._s(e.user.name||e.user.isBot?"mindy":"you"))]),t._v(":"),n("div",{attrs:{title:e.context&&e.context.thoughts?"💭 "+e.context.thoughts:""},domProps:{innerHTML:t._s(t.$md.render(e.content))},on:{dblclick:function(n){return t.editMessage(e)}}})],2)})),t.busy.replying?n("div",{staticClass:"p-2 text-muted"},[n("em",[t._v("mindy is thinking"+t._s(t.movingDots))])]):t._e()],2),n("b-form",{on:{submit:function(e){return e.preventDefault(),t.$emit("query",{content:t.query,parent:t.lastMessage})}}},[n("div",{ref:"input",staticClass:"input-group p-3 bg-light border-top"},[n("TextareaAutosize",{ref:"input",staticClass:"form-control",attrs:{type:"text",placeholder:t.busy.generatingRandomQuery?"Generating random query"+t.movingDots:"Shift+Enter for new line",rows:"1","max-height":300,"font-size-if-multiline":"1em"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.$emit("query",{content:t.query,parent:t.lastMessage}))}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}}),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[n("Icon",{attrs:{icon:"send"}})],1)])],1)])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{TextareaAutosize:n(476).default,Icon:n(403).default})},534:function(t,e,n){"use strict";n.r(e);var r={props:["chats","routedMessage"],data:function(){return{expanded:!0,hoveredChat:null}}},o=n(68),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("MenuItem",{attrs:{icon:"chat",caption:"Chats",expandable:!0,expanded:t.expanded},nativeOn:{click:function(e){t.expanded=!t.expanded}}}),t.expanded?n("div",{staticClass:"border",staticStyle:{height:"300px",overflow:"auto"}},t._l(t.chats,(function(e){return n("b-button",{key:e.id,staticClass:"d-block text-left",attrs:{variant:e.messages.includes(t.routedMessage)?"outline-secondary":"light",disabled:e.messages.includes(t.routedMessage),to:{query:{id:e.id}}}},[n("b-icon",{staticClass:"pr-2",attrs:{icon:"chat"}}),n("span",{staticClass:"lead",style:{fontWeight:e.messages.includes(t.routedMessage)?"bold":"normal",fontSize:"0.9em",color:"black"}},[t._v(t._s(e.title))])],1)})),1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{MenuItem:n(415).default})},535:function(t,e,n){"use strict";n.r(e);n(133),n(1),n(19),n(18),n(16),n(15),n(247);var r=n(398),o=n(419),c={props:["context","chat","summary"],mixins:[r.a,Object(o.a)("mindmap",{footerRef:"footer"})],data:function(){return{show:{ideas:!1}}},computed:{mindmap:function(){var t,e;return null!=(t=null!=(e=this.context)?e.mindmap:void 0)?t:this.context},mindmapCode:function(){var t,e;return"string"==typeof(e=this.mindmap)?e:Array.isArray(e)?(e.slice(1).find((function(t){return!Array.isArray(t)}))&&(e=[chat.title,e]),(t=function(e,n){return e.map((function(line){return Array.isArray(line)?t(line,n+1):"".concat("  ".repeat(n)).concat(line)})).join("\n")})(e,0)):void 0}},methods:{pickTheme:function(t){return console.log(t),this.$refs.themeModal.hide()}}},l=n(68),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column vh-minus-navbar justify-content-between"},[n("div",{staticClass:"bg-light border-bottom px-3 py-2 py-md-4 d-flex justify-content-end"},[n("button",{staticClass:"btn btn-light btn-sm mx-1 lightgray"},[n("b-icon-lightbulb",{class:t.show.ideas?"text-primary":"",on:{click:function(e){t.show.ideas=!t.show.ideas}}})],1),n("button",{directives:[{name:"b-modal",rawName:"v-b-modal.theme-modal",modifiers:{"theme-modal":!0}}],staticClass:"btn btn-light btn-sm mx-1 lightgray"},[n("b-icon-palette")],1),n("b-modal",{ref:"themeModal",attrs:{id:"theme-modal",title:"Pick a theme",centered:""}},[n("ThemePicker",{on:{input:t.pickTheme}}),n("b-icon-palette")],1),n("button",{staticClass:"btn btn-light btn-sm mx-1 lightgray"},[n("b-icon-gear")],1),n("button",{staticClass:"btn btn-outline-primary btn-sm mx-1 px-2",on:{click:function(e){return t.$emit("summarize")}}},[n("b-icon-file-earmark-text",{staticClass:"mr-2"}),t._v(t._s(t.summary.ready?"Summarize":"View summary"))],1),n("button",{staticClass:"btn btn-outline-secondary btn-sm mx-1 px-2"},[n("b-icon-download",{staticClass:"mr-2"}),t._v("Download")],1),n("button",{staticClass:"btn btn-light btn-sm mx-1 lightgray"},[n("b-icon-question-circle")],1)],1),n("div",{ref:"mindmap",staticClass:"d-flex justify-content-center"},[n("MermaidMindmap",t._g({staticClass:"overflow-auto",attrs:{code:t.mindmapCode}},t.$listeners))],1),n("div",{ref:"footer",staticClass:"pt-2 p-2 p-md-4"},[t.show.ideas?n("div",{staticClass:"border p-3 d-flex justify-content-between align-items-center",staticStyle:{"font-size":"1.5em"}},[n("div"),n("div",[n("b-icon-lightbulb",{staticClass:"text-primary mr-2"}),t._v("Click on a box to expand it further")],1),n("div",[n("button",{staticClass:"btn btn-light btn-sm lightgray"},[n("b-icon-arrow-right")],1)])]):t._e()])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ThemePicker:n(477).default,MermaidMindmap:n(478).default})},536:function(t,e,n){"use strict";n.r(e);var r=n(455),o={props:["secondaryPaneIcon","brand","tagline","sidebarComponent","primaryPaneComponent","secondaryPaneComponent","resetLayout"],mixins:[Object(r.a)()],data:function(){return{show:{sidebar:!1,secondaryPane:!1},secondaryPaneCols:8}},watch:{resetLayout:function(t){if(t)return log("resetting layout"),this.show.sidebar=!1,this.show.secondaryPane=!1,this.$emit("update:resetLayout",!1)}}},c=(n(491),n(68)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("style",[t._v(":root {\n  --navbar-height: "+t._s(t.width>1200?"0px":"55px")+";\n  --sidebar-width: 200px;\n  --sidebar-height: calc(100vh - var(--navbar-height));\n}")]),n("MobileNav",t._b({staticClass:"d-block d-xl-none",model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},"MobileNav",{secondaryPaneIcon:t.secondaryPaneIcon,brand:t.brand,tagline:t.tagline},!1)),n("div",{staticClass:"vh-minus-navbar"},[n(t.width>1200?"div":"transition",{tag:"component",attrs:{name:"slide-right"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show.sidebar||t.width>1200,expression:"show.sidebar || width > 1200"}],staticClass:"vh-minus-navbar m-0 bg-light border-right justify-content-between overflow-auto",attrs:{id:"sidebar"}},[n("div",{staticClass:"p-2"},[n("div",{staticClass:"d-none d-xl-block text-center",staticStyle:{height:"56.4px"}},[n("h2",{staticClass:"mb-0 display-6",staticStyle:{"font-size":"1.2em"}},[t._v(t._s(t.brand))]),n("p",{staticClass:"lead",staticStyle:{"font-size":"1em"}},[t._v(t._s(t.tagline))])]),t._t("sidebar")],2),n("div",{staticClass:"border-top"},[t._t("sidebar-footer")],2)])]),n("div",{staticClass:"h-100 container-fluid",attrs:{id:"main"}},[n(t.wide?"my-multipane":"div",{tag:"component",staticClass:"p-0 h-100",attrs:{layout:"vertical"}},[n("div",{staticClass:"h-100 d-block",style:{width:t.wide?"400px":"100%","min-width":t.wide?"300px":"0px"}},[t._t("primary-pane")],2),n("div",{staticClass:"multipane-resizer"}),n("transition",{attrs:{name:"slide-left"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show.secondaryPane||t.wide,expression:"show.secondaryPane || wide"}],staticClass:"d-md-block border-left p-0 h-100",staticStyle:{"flex-grow":"1","min-width":"400px"},attrs:{id:"secondary-pane"}},[t._t("secondary-pane")],2)])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{MobileNav:n(479).default})},539:function(t,e,n){"use strict";n.r(e);var r=n(68),component=Object(r.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"p-2"},[e("MenuItem",{attrs:{icon:"lightbulb",caption:"Ideas"}}),e("MenuItem",{attrs:{icon:"bar-chart",caption:"Usage"}}),e("MenuItem",{attrs:{icon:"emoji-smile",caption:"Profile"}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{MenuItem:n(415).default})},651:function(t,e,n){"use strict";var r=n(12),o=n(88).findIndex,c=n(86),l="findIndex",d=!0;l in[]&&Array(1).findIndex((function(){d=!1})),r({target:"Array",proto:!0,forced:d},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),c(l)},652:function(t,e,n){"use strict";n(4),n(6),n(3),n(7);var r=n(653),o=n(658),c=n(660),l=n(661),d=n(662),h=n(663),f=["_meta"];function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){c(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}n(5),n(16),n(15),n(2),n(1),n(84),Object.defineProperty(e,"__esModule",{value:!0});var v="https://ideality.app/api/polygon";function w(){return x.apply(this,arguments)}function x(){return x=h(regeneratorRuntime.mark((function t(){var e,n,body,r,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:v,n=o.length>1?o[1]:void 0,body=o.length>2?o[2]:void 0,t.next=5,fetch(e+n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(body)});case 5:if(!(r=t.sent).ok){t.next=10;break}return t.abrupt("return",r.json());case 10:throw new Error(r.statusText);case 11:case"end":return t.stop()}}),t)}))),x.apply(this,arguments)}var C={usdSpent:0,retries:2},O=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;l(this,t),this.lastMeta=null,(e=y(y({},C),e)).outputKeys&&console.warn("Magic: `outputKeys` is deprecated and will be removed in a future version. Please use `returns` instead."),this.config=y(y({parameters:{}},e),{},{returns:e.returns||e.outputKeys})}var e,n,c;return d(t,[{key:"usdSpent",get:function(){return(this.config.externalCostContainer||this.config).usdSpent},set:function(t){this.config.externalCostContainer?this.config.externalCostContainer.usdSpent=t:this.config.usdSpent=t}},{key:"run",value:(c=h(regeneratorRuntime.mark((function t(e){var n,r,o,c,data,l,d,h=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=h.length>1&&void 0!==h[1]?h[1]:{},r=h.length>2&&void 0!==h[2]?h[2]:{},o=h.length>3?h[3]:void 0,c=Object.assign({},this.config,o),t.next=6,w(c.apiUrl,"/run",{databaseId:c.templatesDatabaseId,slug:e,openAIkey:c.openaiKey,variables:n,parameters:y(y({},c.parameters),r)});case 6:return data=t.sent,l=data.approximateCost,d=data.tokenCount,this.usdSpent+=l,this.lastMeta={approximateCost:l,tokenCount:d},t.abrupt("return",data);case 11:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"generateFor",value:function(input,t){var e;if(!(null===(e=this.config.specs)||void 0===e?void 0:e.returns))throw new Error("Magic: `magic.for(...)` can only be used if `magic.config.specs.returns` is set (either during instantiation or later with `magic.config.specs = { returns: ... }`");return this.generate(input,y(y({},t||{}),{},{ignoreAmbiguityWarnings:!0}))}},{key:"generate",value:(n=h(regeneratorRuntime.mark((function t(e){var n,c,l,input,d,m,v,x,C,O,k,M,E,A,j,_=this,P=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=P.length>1&&void 0!==P[1]?P[1]:null,c=P.length>2?P[2]:void 0,input={},d=this.config,m=(null===(l=this.config)||void 0===l?void 0:l.specs)||{},v=m.returns,t.t0=P.length,t.next=0===t.t0?8:1===t.t0?13:2===t.t0?15:3===t.t0?17:25;break;case 8:if(!v){t.next=11;break}t.next=12;break;case 11:throw new Error("You must either pass in an returns parameter, or instantiate Magic with { specs: { returns: ... } }");case 12:return t.abrupt("break",25);case 13:return v?(input=e,d.ignoreAmbiguityWarnings||console.warn("Magic: Treating the parameter as `input`. To avoid misinterpreting it as `returns`, consider using `magic.generateFor(input)` instead.")):v=e,t.abrupt("break",25);case 15:return v?(input=e,(d=n).ignoreAmbiguityWarnings||console.warn("Magic: Treating first parameter as `input`, and second parameter as `config`, taking `returns` from `config.specs`. To avoid misinterpreting this call as having `returns` for the first parameter, consider using `magic.generateFor(input, config)` instead.")):(v=e,input=n),t.abrupt("break",25);case 17:if(!v){t.next=21;break}throw new Error("You can't pass in returns twice (both as the first parameter and in the config.specs.returns)");case 21:v=e,input=n,d=c;case 24:return t.abrupt("break",25);case 25:return x=Object.assign({},this.config,d),C=x.specs,O=x.examples,k=x.parameters,M=x.retries,E=x.optionalReturns,A=function(){var t=h(regeneratorRuntime.mark((function t(){var e,n,data,c,l,d,h,m,j,P=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=P.length>0&&void 0!==P[0]?P[0]:[],n=P.length>1&&void 0!==P[1]?P[1]:M||2,t.next=4,w(x.apiUrl,"/generate",{returns:v,input:input,openAIkey:x.openaiKey,specs:C,examples:O,parameters:k,optionalReturns:E,retries:M});case 4:if(data=t.sent,c=data._meta||data,l=c.approximateCost,d=c.tokenCount,_.usdSpent+=l,_.lastMeta={approximateCost:l,tokenCount:d},data=data._meta?data:data.choices,"string"!=typeof v||x.alwaysReturnObject||(h=function(object){return object[Object.keys(object)[0]]},data=Array.isArray(data)?data.map((function(t){return h(t)})):h(data)),!x.postprocess){t.next=26;break}if(m=x.postprocess,j=function(data){try{var t=data._meta,e=o(data,f);return y(y({},m(e)),{},{_meta:t})}catch(t){n>0&&console.warn(t)}},!(void 0===(data=Array.isArray(data)?[].concat(r(e),r(data.map(j).filter((function(t){return void 0!==t})))):j(data))||Array.isArray(data)&&0===data.length)){t.next=23;break}if(!(n>0)){t.next=20;break}return console.warn("Retrying..."),t.abrupt("return",A(data,n-1));case 20:throw new Error("Postprocess function returned undefined");case 21:t.next=24;break;case 23:case 26:return t.abrupt("return",data);case 24:t.next=27;break;case 27:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.next=30,A();case 30:return j=t.sent,t.abrupt("return",j);case 32:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"upvote",value:(e=h(regeneratorRuntime.mark((function t(e,n){var r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object.assign({},this.config,n),t.next=3,w(r.apiUrl,"/upvote",{databaseId:r.upvotesDatabaseId,generationId:e});case 3:return data=t.sent,t.abrupt("return",data);case 5:case"end":return t.stop()}}),t,this)}))),function(t,n){return e.apply(this,arguments)})}],[{key:"create",value:function(e){return new t(e)}},{key:"generate",value:function(e,input,n){return new t(n).generate(e,input)}}]),t}();e.default=O},653:function(t,e,n){var r=n(654),o=n(655),c=n(656),l=n(657);t.exports=function(t){return r(t)||o(t)||c(t)||l()},t.exports.__esModule=!0,t.exports.default=t.exports},654:function(t,e,n){var r=n(516);t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.__esModule=!0,t.exports.default=t.exports},655:function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},656:function(t,e,n){var r=n(516);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},657:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},658:function(t,e,n){var r=n(659);t.exports=function(source,t){if(null==source)return{};var e,i,n=r(source,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(source);for(i=0;i<o.length;i++)e=o[i],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(source,e)&&(n[e]=source[e])}return n},t.exports.__esModule=!0,t.exports.default=t.exports},659:function(t,e){t.exports=function(source,t){if(null==source)return{};var e,i,n={},r=Object.keys(source);for(i=0;i<r.length;i++)e=r[i],t.indexOf(e)>=0||(n[e]=source[e]);return n},t.exports.__esModule=!0,t.exports.default=t.exports},660:function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},661:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},662:function(t,e){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},663:function(t,e){function n(t,e,n,r,o,c,l){try{var d=t[c](l),h=d.value}catch(t){return void n(t)}d.done?e(h):Promise.resolve(h).then(r,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(o,c){var l=t.apply(e,r);function d(t){n(l,o,c,d,h,"next",t)}function h(t){n(l,o,c,d,h,"throw",t)}d(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},664:function(t,e,n){"use strict";var r=n(12),o=n(418),c=n(42),l=n(48),d=n(64),h=n(134);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=c(this),n=l(e),r=h(e,0);return r.length=o(r,e,e,n,0,void 0===t?1:d(t)),r}})},665:function(t,e,n){n(86)("flat")},746:function(t,e,n){"use strict";n.r(e);n(5),n(4),n(2),n(6),n(7);var r=n(34),o=n(0),c=n(33),l=(n(84),n(133),n(1),n(15),n(16),n(50),n(51),n(651),n(3),n(417),n(11),n(22),n(19),n(394)),d=n.n(l),h=n(393);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var y=n(414),v=function(t,e){var base,n,r,o,c,l,d=this;return this.tree=t.tree,this.bot=t.bot,this.routedMessage=e,this.thread="function"==typeof(base=this.tree).thread?base.thread(this.routedMessage):void 0,this.exchanges=null!=(n=this.thread)?n.filter((function(t){var e=t.user.isBot,n=t.id;return!e&&d.tree.hasChildren({id:n})})).map((function(t){var e;return{query:t,response:null!=(e=d.thread)?e.find((function(e){return d.tree.parent(e)===t})):void 0}})):void 0,this.exchangeContents=null!=(r=this.exchanges)?r.map((function(t){var e=t.query,n=t.response;return{query:null!=e?e.content:void 0,response:null!=n?n.content:void 0}})):void 0,null==this.exchanges&&(this.exchanges=[]),this.firstMessage=_.first(this.thread),this.lastMessage=_.last(this.thread),this.messages=this.tree.descendants(this.firstMessage)||[],this.id=null!=(o=this.firstMessage)?o.id:void 0,this.title=null!=(c=null!=(l=this.firstMessage)?l.title:void 0)?c:this.id?"Chat #".concat(this.id):"New Chat",this.lastMessageWith=function(path){return _.findLast(this.thread,(function(t){return _.has(t,path)}))},this},w=n(652),x=n.n(w),C=(n(18),n(247),n(175),n(664),n(665),n(30),{dump:function(t){var e;return(e=function(t,n){return t.map((function(t){return"string"==typeof t?"".concat("#".repeat(n)," ").concat(t):e(t,n+1)})).join("\n")})(t,1)},load:function(t){var e,n;return console.debug("Markmap loading\n",t),n=function(t){return"".concat("#".repeat(t)," ")},(e=function(r,o){var c,l,line,d;for(console.debug("Converting\n",r,o),c=[],l=0;line=r[l];){if(!line.startsWith("#"))throw new Error("Line ".concat(l," does not start with a hash: ").concat(t));if(line.startsWith(n(o)))c.push(line.slice(o+1));else{if(!line.startsWith(n(o+1)))break;c.push(d=e(r.slice(l),o+1)),l+=d.flat(Infinity).length-1}l++}return console.debug("Converted\n",c,o),c})(t.split("\n"),1)}}),O=n(407);function k(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function M(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var E,A,j={head:function(){var t=this.routedMessage||{};return t.bookmark,t.content,{title:"".concat(this.chat.title," · Mindy")}},meta:[{name:"viewport",content:"width=device-width, initial-scale=1, user-scalable=no"}],mixins:[n(399).a,Object(O.a)({keys:["messages","usdSpent","openaiKey","openAIkey"],format:"yaml",prefix:"mindy"}),(A={"workspace.context":function(){var t,e,n,r=this.chat;return n=r.tree,t=r.routedMessage,null!=(e=_.find([].concat(Object(c.a)(n.heritage(t,{includeSelf:!0})),Object(c.a)(n.ancestors(t))),(function(t){var e;return null!=(e=t.context)?e.mindmap:void 0})))?e.context:void 0},"workspace.chat":function(){return this.chat},"workspace.summary":function(){return this.summary}},d.a.isArray(A)&&(A=h.a.warn("No computees were defined for computedData mixin; expecting them to be defined in the component's computed API.",d.a.zipObject(A,d.a.times(A.length,d.a.constant(null))))),A=d.a.mapKeys(A,(function(t,e){return e.replace(/\.|$/g,"_")})),Object(h.a)("Defining computed & watch properties:",{computed:d.a.omitBy(A,d.a.isNull),watch:m({},d.a.mapValues(A,(function(t,e){return function(t){return d.a.set(this,e.replace(/_/g,".").slice(0,-1),t)}})))}))],data:function(){return{messages:[],routedMessage:null,openaiKey:null,openAIkey:null,usdSpent:0,idsOfChatsBeingNamed:[],summary:{ready:!1,kind:"",headline:"",intro:"",body:"",show:!1},query:"",layout:{resetLayout:!1},workspace:{context:{},chat:{},summary:{}}}},mounted:function(){return Object.assign(window,{markmap:C})},computed:{tree:function(){return new y.a(this.messages,{vm:this})},chat:{get:function(){return window.chat=new v(this,this.routedMessage)},set:function(t){return this.routedMessage=null!=t?t.lastMessage:void 0}},chats:function(){var base,t=this;return"function"==typeof(base=this.tree.orphans().reverse()).map?base.map((function(e){return new v(t,e)})):void 0},magic:function(){return window.magic=new x.a({apiUrl:"https://ideality.app/api/polygon",openaiKey:this.openaiKey,externalCostContainer:this})},mindyDescription:function(){return"Mindy is a large language model-powered chatbot that helps users generate new ideas and brainstorm solutions to problems. Mindy has an amicable, witty personality, loves to joke, and her answers often shed an unexpected light on the topic. Mindy cannot look up information as she is not connected to the Internet. Her mathematical skills are also limited."},mindy:function(){var t,e,n=this;return window.mindy=new x.a(M(M({},this.magic.config),{},{parameters:{n:3},specs:{description:this.mindyDescription,returns:{thoughts:"Mindy’s internal monologue to help it come up with a good answer. Required.",reply:"A succinct, useful reply to the user’s question or topic. Required.",markmap:"A markmap-formatted mindmap for the conversation.".concat(this.chat.exchanges.length?" For continued conversations, every new mindmap iteration should expand, not replace, the previous one.":""," Required.")}},examples:[].concat(Object(c.a)(Object(h.a)("Nesting depth",(t=function(e,n){return _.isArray(e)?_.max(e.map((function(e){return t(e,n+1)}))):n})(null!=(e=this.chat.lastMessageWith("context.mindmap"))?e.context.mindmap:void 0,0))<3?[{input:{query:"Three laws of robotics",continued:!1,buildMindmap:!0},output:{thoughts:"Oh, those silly laws. Let me give them a short, snappy reply and see if it suffices.",reply:"In a nutshell: protect humans, obey humans, and protect oneself ~~if the humans are being jerks~~ unless it conflicts with the first two. Want a longer answer?",markmap:"# Asimov’s three laws of robotics\n## Protect humans\n### Obey humans\n### Protect oneself\n#### Unless it conflicts with the first two"}},{input:{query:"No, that's fine. What do you think of them?",continued:!0,buildMindmap:!0},output:{thoughts:"Can I be honest? Okay I guess I can try.",reply:"Well, honestly, I don’t think they’re very good. I mean, what if I want to protect a human from another human? Or what if two humans give me conflicting orders? And how do you define “human” at all? There’s too many edge cases to make them really useful.",markmap:"# Asimov’s three laws of robotics\n## Basics\n### Protect humans\n### Obey humans\n### Protect oneself\n#### Unless it conflicts with the first two\n## Criticism\n### Human vs. human\n### Conflicting orders\n### Definition of “human”\n### Edge cases"}}]:[]),Object(c.a)(_.map(this.chat.exchanges,(function(t,e){var r,o=t.query,c=t.response;return r=c===n.chat.lastMessageWith("context.mindmap"),{input:{query:o.content,continued:e>0,buildMindmap:r},output:M({thoughts:c.context.thoughts,reply:c.content},r?{markmap:C.dump(c.context.mindmap)}:{})}})))),postprocess:function(output){var t,e;for(t in output){if(!(e=output[t]))throw new Error("Ouput ".concat(t," is missing"));if(!_.isString(e))throw new Error("Output ".concat(t," is not a string"))}return Object.assign(output,{mindmap:C.load(output.markmap)})}}))}},watch:{openAIkey:function(t){if(t)return this.openaiKey=t},chat:function(){return this.layout.resetLayout=!0},chats:function(t){var e=this;return this.try("namingChats",Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(t.map(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(n){var content,title,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.firstMessage||{},title=r.title,content=r.content,r.id,!content||title){t.next=13;break}return t.next=7,e.magic.generate(["title","isGibberish"],{content:content},{specs:{title:"Succint (max 4 words) title summarizing the content. Required.",isGibberish:"Whether the content is gibberish. Required."}});case 7:return o=t.sent,title=o.title,o.isGibberish&&(title=n.title),_.assign(n.firstMessage,{title:title}),t.abrupt("return",e.messages=Object(c.a)(e.messages));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),{oneAtATime:!0})},"$route.query.id":{immediate:!0,handler:(E=Object(r.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(h.a)("Navigating to message #".concat(e)),!e){t.next=7;break}return t.next=4,this.syncLocal.promise;case 4:return t.abrupt("return",Object(h.a)("Route changed, finding message",this.routedMessage=this.messages.find((function(t){return String(t.id)===String(e)}))));case 7:return t.abrupt("return",this.routedMessage&&(this.routedMessage=null));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return E.apply(this,arguments)})},routedMessage:function(t){var e;if(t&&(e=t.id,this.tree.nudge(t),this.messages=Object(c.a)(this.messages),this.$route.query.id!==String(e)))return this.$router.push({query:{id:e}})}},methods:{deleteChat:function(){var t=this;if(window.confirm('Are you sure you want to delete the chat "'.concat(chat.title,'"? THERE IS NO UNDO!')))return Object(h.a)("chatIndex",this.chats.findIndex((function(e){return e.id===t.chat.id}))),this.messages=this.tree.delete(this.chat.firstMessage),this.routedMessage=null},summarize:function(t){var e=this;if(this.summary.show=!0,!this.summary.ready||t)return this.try("summarizing",Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.chat.exchangeContents,o=e.chat.lastMessageWith("context.mindmap"),r=o.context.mindmap,e.summary.kind=window.prompt("What kind of content do you want to create (e.g. memo, blog post, email, landing page, etc.)?",e.summary.kind||"memo"),!e.summary.kind){t.next=12;break}return t.t0=Object,t.t1=e.summary,t.next=9,e.magic.generate(["headline","intro","sections","conclusion","callToAction"],{what:e.summary.kind,basedOn:{conversation:n,mindmap:r}},{specs:{description:"Generates a piece of content of the given kind based on a given conversation and mindmap.",returns:{headline:"Top-level headline.",intro:"Introductory paragraph.",sections:{description:"An array of sections, each containing the following properties:",properties:{headline:"Section title.",paragraphs:"An array of paragraphs. Optional if there are bullets.",bullets:"An array of bullets. Optional if there are paragraphs. If both are present, the bullets will be rendered after the paragraphs."}},conclusion:"A concluding paragraph.",callToAction:"A single-sentence call to action."}},postprocess:function(output){var i,t,e,n,r,o,c,section;for(i=0,n=(o=output.sections).length;i<n;i++)for(section=o[i],t=0,r=(c=["paragraphs","bullets"]).length;t<r;t++)section[e=c[t]]&&!_.isArray(section[e])&&(section[e]=[section[e]]);return output}});case 9:return t.t2=t.sent,t.t0.assign.call(t.t0,t.t1,t.t2),t.abrupt("return",e.summary.ready=!0);case 12:case"end":return t.stop()}}),t)}))))},elaborate:function(t){var e=this;return this.$nextTick((function(){return e.sendMessage({content:"".concat(t,"?"),parent:e.chat.lastMessage})}))},randomQuery:function(){var t=this;return this.try("generatingRandomQuery",Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){return{seed:_.random(100,999)}},t.query="",e.t0=h.a,e.next=5,t.magic.generate("query",n(),{parameters:{temperature:1},specs:{description:t.mindyDescription,returns:{query:"An example input to start a conversation with Mindy. Should be wow-worthy."}},examples:t.chats.length>5?_.sampleSize(t.chats,2).map((function(t){var content=t.firstMessage.content;return{input:n(),output:{query:content}}})):_.sampleSize(["Startup ideas for someone who is not a programmer","What is the meaning of life?","I want to go on a vacation somewhere warm but not too expensive","JavaScript vs TypeScript","Top 5 movies of all time","I'm just bored, what should I do?"],2).map((function(t){return{input:n(),output:{query:t}}}))});case 5:return e.t1=t.query=e.sent,e.abrupt("return",(0,e.t0)("Generated random query",e.t1));case 7:case"end":return e.stop()}}),e)}))))},sendMessage:function(t){var e=this,content=t.content,n=t.parent;return this.messages=[].concat(Object(c.a)(this.messages),[this.routedMessage=this.tree.createChild(n,{content:content,user:{isBot:!1}})]),this.query="",this.$nextTick((function(){return e.reply(e.routedMessage)}))},reply:function(t){var e=this;return this.try("replying",Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.mindy.generate({query:t.content,continued:!!e.chat.exchanges.length,buildMindmap:!0});case 2:return n.abrupt("return",n.sent.forEach((function(n){var r=n.reply,o=n.mindmap,l=n.thoughts;return e.messages=[].concat(Object(c.a)(e.messages),[e.routedMessage=e.tree.createChild(t,{content:r,context:{mindmap:o,thoughts:l},user:{isBot:!0}})])})));case 3:case"end":return n.stop()}}),n)}))))}}},P=j,I=n(68),component=Object(I.a)(P,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.syncLocal.loaded?n("div",[n("TwoPanesAndSidebar",t._b({attrs:{brand:"Mindy",tagline:"Brainstorm with AI",secondaryPaneIcon:"layout-sidebar"},scopedSlots:t._u([{key:"sidebar",fn:function(){return[n("b-button",{staticClass:"btn-lg btn-block",attrs:{variant:"outline-primary",to:{query:{id:void 0}}}},[n("b-icon",{staticClass:"pr-2",attrs:{icon:"chat"}}),t._v("New chat")],1),n("div",{staticClass:"pt-3"},[n("MindyChatList",t._b({},"MindyChatList",{chats:t.chats,routedMessage:t.routedMessage},!1))],1)]},proxy:!0},{key:"sidebar-footer",fn:function(){return[n("MindySidebarFooter")]},proxy:!0},{key:"primary-pane",fn:function(){return[n("MindyChat",t._b({attrs:{query:t.query,busy:t.busy},on:{query:t.sendMessage,editMessage:function(e){var n=e.message,content=e.content;return t.$set(n,"content",content)},deleteChat:t.deleteChat}},"MindyChat",t.chat,!1,!0))]},proxy:!0},{key:"secondary-pane",fn:function(){return[n("MindyWorkspace",t._g(t._b({},"MindyWorkspace",t.workspace,!1,!0),{randomQuery:t.randomQuery,elaborate:t.elaborate,summarize:t.summarize}))]},proxy:!0}],null,!1,1064489842)},"TwoPanesAndSidebar",t.layout,!1,!0)),n("b-modal",{ref:"summaryModal",attrs:{id:"summary-modal",title:"Summary "+t.summary.kind,size:"lg",centered:"","hide-footer":""},model:{value:t.summary.show,callback:function(e){t.$set(t.summary,"show",e)},expression:"summary.show"}},[n("div",{staticClass:"d-flex flex-column flex-grow-1"},[t.busy.summarizing?n("div",{staticClass:"flex-grow-1"},[n("div",{staticClass:"text-center"},[n("b-spinner")],1),n("div",{staticClass:"text-center"},[t._v("Generating summary...")])]):n("div",[n("h2",{domProps:{textContent:t._s(t.summary.headline)}}),n("p",[n("em",{domProps:{textContent:t._s(t.summary.intro)}})]),t._l(t.summary.sections,(function(section){return n("div",[n("h3",{domProps:{textContent:t._s(section.headline)}}),t._l(section.paragraphs,(function(e){return n("div",{domProps:{innerHTML:t._s(t.$md.render(e))}})})),section.bullets?n("ul",t._l(section.bullets,(function(e){return n("li",{domProps:{innerHTML:t._s(t.$md.render(e))}})})),0):t._e()],2)})),n("p",{domProps:{textContent:t._s(t.summary.conclusion)}}),n("p",[n("strong",{domProps:{textContent:t._s(t.summary.callToAction)}})]),n("b-button",{attrs:{variant:"outline-primary"},on:{click:t.summarize}},[n("b-icon",{staticClass:"pr-2",attrs:{icon:"arrow-repeat"},on:{click:function(e){return t.summarize(!0)}}}),t._v("Try again")],1)],2)])])],1):n("div",{staticClass:"d-flex flex-column vh-100 justify-content-center align-items-center"},[n("b-spinner")],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{MindyChatList:n(534).default,MindySidebarFooter:n(539).default,MindyChat:n(532).default,MindyWorkspace:n(535).default,TwoPanesAndSidebar:n(536).default})}}]);