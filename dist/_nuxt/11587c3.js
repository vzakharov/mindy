(window.webpackJsonp=window.webpackJsonp||[]).push([[4,2,3],{392:function(t,e,n){"use strict";var r=n(0);e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.deep;return{data:function(){return Object(r.a)({},t,this.value)},watch:Object(r.a)({},t,{deep:n,handler:function(t){return this.$emit("input",t)}})}}},395:function(t,e,n){"use strict";n.r(e);var r=n(40),o=(n(10),n(30),n(392)),l={mixins:[Object(o.a)("setting")],props:["value","properties"],computed:{id:function(){return this.$vnode.key},label:function(){return this.properties.label||this.id},inputTagAndProps:function(){var t;if(t={multiline:{tag:"b-textarea",props:{rows:Math.max(10,Math.min(20,this.setting.split("\n").length)),style:this.properties.monospace?"font-family: monospace":"",placeholder:this.properties.placeholder||"Enter text here"}},text:{tag:"b-input",props:{type:"text",placeholder:this.properties.placeholder||"Enter text here"}},number:{tag:"b-input",props:{type:"number",placeholder:this.properties.placeholder||"Enter a number here"}},boolean:{tag:"b-checkbox",props:{switch:!0}}},this.properties.type)return t[this.properties.type];switch(Object(r.a)(this.value)){case"number":return t.number;case"boolean":return t.boolean;default:return t.text}},inputTag:function(){return this.inputTagAndProps.tag},inputProps:function(){return this.inputTagAndProps.props}}},c=n(68),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-form-group",t._b({attrs:{"label-for":"edit-settings-modal-"+t.id}},"b-form-group",{label:t.label},!1),[n(t.inputTag,t._b({tag:"component",attrs:{id:"edit-settings-input-"+t.id},model:{value:t.setting,callback:function(e){t.setting=e},expression:"setting"}},"component",t.inputProps,!1))],1)}),[],!1,null,null,null);e.default=component.exports},396:function(t,e,n){"use strict";var r=n(172).start,o=n(247);t.exports=o("trimStart")?function(){return r(this)}:"".trimStart},397:function(t,e,n){var content=n(405);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(109).default)("e9df4156",content,!0,{sourceMap:!1})},398:function(t,e,n){n(402);var r=n(11),o=n(396);r({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==o},{trimStart:o})},399:function(t,e,n){"use strict";e.a=function(){var t,e;return(e=console).log.apply(e,arguments),(t=arguments.length-1)<0||arguments.length<=t?void 0:arguments[t]}},401:function(t,e,n){"use strict";n.r(e);var r=n(392),o={mixins:[Object(r.a)("settings",{deep:!0})],props:{title:{type:String,default:"Edit settings"},okTitle:{type:String,default:"Save"},cancelTitle:{type:String,default:"Cancel"},value:{type:Object,required:!0},properties:{type:Object,default:function(){return{}}}}},l=n(68),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-form",t._l(t.settings,(function(e,r){return n("EditSettingsInput",{key:r,attrs:{properties:t.properties[r]},model:{value:t.settings[r],callback:function(e){t.$set(t.settings,r,e)},expression:"settings[key]"}})})),1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{EditSettingsInput:n(395).default})},402:function(t,e,n){var r=n(11),o=n(396);r({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==o},{trimLeft:o})},404:function(t,e,n){"use strict";n(397)},405:function(t,e,n){var r=n(108)(!1);r.push([t.i,".code[data-v-2e13bcf4]{font-family:monospace;background-color:#1e1e1e;color:#d4d4d4;height:calc(100% - 2.5rem)}",""]),t.exports=r},413:function(t,e,n){"use strict";n.r(e);n(171);var r,o,l=n(34),c=n(29),d=n(28),m=n(67),f=n(126),h=n(49),v=n(166),x=(n(84),n(398),n(10),n(22),n(1),n(30),n(399),{data:function(){var t;return t={state:!1},Object.assign(t,{promise:new Promise((function(e){return Object.assign(t,{resolve:e})}))}),{mounted:t}},mounted:function(){return this.mounted.resolve(),this.mounted.state=!0}});function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}r=function(t){Object(m.a)(n,t);var e=w(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n)}(Object(v.a)(Error)),o=function(line){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(line.length-line.trimLeft().length)/t};var y,j={mixins:[x],props:["value"],data:function(){return{chartRendered:!1}},computed:{context:{get:function(){return this.value},set:function(t){return this.$emit("input",t)}},isValid:function(){var t;try{return this.validate(this.context),!0}catch(e){return t=e,console.error(t),!1}},mermaidString:function(){var t;try{this.validate(this.context)}catch(t){return t,""}return t="mindmap\n"+this.context.replace(/[~@\-~"()]/g,(function(t){return"#".concat(t.charCodeAt(0),";")})),console.log(t),t}},mounted:function(){var script;return console.log("MindyContext mounted"),document.getElementById("mermaid-init")?console.log("mermaid-init script already exists"):(console.log("creating mermaid-init script"),(script=document.createElement("script")).id="mermaid-init",script.type="module",window.mermaidLoaded={state:!1,resolve:null},window.mermaidLoaded.promise=new Promise((function(t){return Object.assign(window.mermaidLoaded,{resolve:t})})),script.innerHTML="let resolve = null\nimport mermaid from 'https://unpkg.com/mermaid@9/dist/mermaid.esm.mjs';\nconsole.log({mermaid})\nimport mindmap from 'https://unpkg.com/@mermaid-js/mermaid-mindmap@9/dist/mermaid-mindmap.esm.mjs';\nconsole.log({mindmap})\nawait mermaid.registerExternalDiagrams([mindmap]);\nmermaid.startOnLoad = false;\nObject.assign(window, {mermaid, mindmap});\nconsole.log('mermaid loaded')\nwindow.mermaidLoaded.state = true\nwindow.mermaidLoaded.resolve()",document.head.appendChild(script),console.log(script))},watch:{mermaidString:{immediate:!0,handler:(y=Object(l.a)(regeneratorRuntime.mark((function t(e){var element,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.chartRendered=!1,console.log("Creating mermaid chart for",e),this.mounted.state){t.next=7;break}return console.log("Waiting for the component to be mounted"),t.next=6,this.mounted.promise;case 6:console.log("Component mounted");case 7:if(window.mermaidLoaded.state){t.next=12;break}return console.log("Waiting for mermaid to be loaded"),t.next=11,window.mermaidLoaded.promise;case 11:console.log("Mermaid loaded");case 12:return element=document.getElementById("mermaid-container"),t.abrupt("return",this.$nextTick((function(){return console.log("Updating mermaid chart"),mermaid.renderAsync("mermaid-".concat(Date.now()),e,(function(svg){return element.innerHTML=svg,n.chartRendered=!0,console.log("Mermaid chart updated")}))})));case 14:case"end":return t.stop()}}),t,this)}))),function(t){return y.apply(this,arguments)})}},methods:{helloWorld:function(){return console.log("Hello world")},validate:function(t){var i,e,n,l,c;if(n=t.split("\n"),0!==o(n[0]))throw new r("The first line must not be indented");if(0===o(n[1]))throw new r("The second line must be indented");for(c=o(n[1],1),i=e=2,l=n.length;2<=l?e<l:e>l;i=2<=l?++e:--e){if(o(n[i],c)>o(n[i-1],c)+1)throw new r("Line ".concat(i+1," is indented by more than one level more than the previous line"));if(o(n[i],c)<1)throw new r("Line ".concat(i+1," is not indented; only one root topic is allowed"))}return!0}}},O=j,S=(n(404),n(68)),component=Object(S.a)(O,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",[n("b-row",{staticClass:"sticky-top",staticStyle:{height:"calc(100vh - 200px)"},attrs:{"align-v":"center"}},[n("b-col",[t.isValid?n("pre",{staticClass:"mermaid",attrs:{id:"mermaid-container"},domProps:{textContent:t._s(t.mermaidString)}}):n("b-alert",{attrs:{variant:"danger",show:""}},[n("strong",[t._v("Cannot render the mind map; please edit the context in the "),n("em",[t._v("Plain text")]),t._v(" tab.")]),n("ul",[n("li",[t._v("Exactly one line with no indentation in the beginning")]),n("li",[t._v("The second line must be indented by one level")]),n("li",[t._v("Every next line must be indented by not more than previous line plus one and not less than one level")])])]),n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.plain-text-modal",modifiers:{"plain-text-modal":!0}}],staticClass:"btn-sm btn-light"},[t._v("ðŸ–‰")]),n("b-modal",{attrs:{id:"plain-text-modal",title:"Edit context in plain text",size:"sm","hide-footer":"","hide-header":""}},[n("EditSettingsContainer",{attrs:{title:"Edit context in plain text",value:{context:t.context},properties:{context:{type:"multiline",monospace:!0,label:"Context",placeholder:"Main topic\n\tSub-topic\n\t\tSub-sub-topic\n\tAnother sub-topic"}}},on:{input:function(e){t.context=e.context}}})],1)],1)],1)],1)}),[],!1,null,"2e13bcf4",null);e.default=component.exports;installComponents(component,{EditSettingsContainer:n(401).default})}}]);