(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{394:function(t,e,n){"use strict";var r=n(172).start,o=n(248);t.exports=o("trimStart")?function(){return r(this)}:"".trimStart},395:function(t,e,n){var content=n(402);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(109).default)("b809e866",content,!0,{sourceMap:!1})},396:function(t,e,n){"use strict";e.a=function(){var t,e;return(e=console).log.apply(e,arguments),(t=arguments.length-1)<0||arguments.length<=t?void 0:arguments[t]}},399:function(t,e,n){n(400);var r=n(10),o=n(394);r({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==o},{trimStart:o})},400:function(t,e,n){var r=n(10),o=n(394);r({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==o},{trimLeft:o})},401:function(t,e,n){"use strict";n(395)},402:function(t,e,n){var r=n(108)(!1);r.push([t.i,".code[data-v-70a145b4]{font-family:monospace;background-color:#1e1e1e;color:#d4d4d4;height:calc(100% - 2.5rem)}",""]),t.exports=r},410:function(t,e,n){"use strict";n.r(e);n(171);var r,o,c=n(34),d=n(29),l=n(28),m=n(67),f=n(126),h=n(49),v=n(166),w=(n(84),n(399),n(11),n(22),n(1),n(30),n(18),n(16),n(247),n(396),{data:function(){var t;return t={state:!1},Object.assign(t,{promise:new Promise((function(e){return Object.assign(t,{resolve:e})}))}),{mounted:t}},mounted:function(){return this.mounted.resolve(),this.mounted.state=!0}});function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}r=function(t){Object(m.a)(n,t);var e=x(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n)}(Object(v.a)(Error)),o=function(line){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(line.length-line.trimLeft().length)/t};var y,j={mixins:[w],props:["value"],data:function(){return{chartRendered:!1}},computed:{context:{get:function(){var base;return"function"==typeof(base=this.value).replace?base.replace(/\n```[\s\S]*/,""):void 0},set:function(t){return this.$emit("input",t)}},isValid:function(){var t;try{return this.validate(this.context),!0}catch(e){return t=e,console.error(t),!1}},mermaidString:function(){var t;try{this.validate(this.context)}catch(t){return t,""}return t="mindmap\n"+this.context.replace(/[~@\-~"()]/g,(function(t){return"#".concat(t.charCodeAt(0),";")})),console.log(t),t}},mounted:function(){var script;return console.log("MindyContext mounted"),document.getElementById("mermaid-init")?console.log("mermaid-init script already exists"):(console.log("creating mermaid-init script"),(script=document.createElement("script")).id="mermaid-init",script.type="module",window.mermaidLoaded={state:!1,resolve:null},window.mermaidLoaded.promise=new Promise((function(t){return Object.assign(window.mermaidLoaded,{resolve:t})})),script.innerHTML="let resolve = null\nimport mermaid from 'https://unpkg.com/mermaid@9/dist/mermaid.esm.mjs';\nconsole.log({mermaid})\nimport mindmap from 'https://unpkg.com/@mermaid-js/mermaid-mindmap@9/dist/mermaid-mindmap.esm.mjs';\nconsole.log({mindmap})\nawait mermaid.registerExternalDiagrams([mindmap]);\nObject.assign(window, {mermaid, mindmap});\nconsole.log('mermaid loaded')\nwindow.mermaidLoaded.state = true\nwindow.mermaidLoaded.resolve()",document.head.appendChild(script),console.log(script))},watch:{mermaidString:{immediate:!0,handler:(y=Object(c.a)(regeneratorRuntime.mark((function t(e){var element,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.chartRendered=!1,console.log("Creating mermaid chart for",e),this.mounted.state){t.next=7;break}return console.log("Waiting for the component to be mounted"),t.next=6,this.mounted.promise;case 6:console.log("Component mounted");case 7:if(window.mermaidLoaded.state){t.next=12;break}return console.log("Waiting for mermaid to be loaded"),t.next=11,window.mermaidLoaded.promise;case 11:console.log("Mermaid loaded");case 12:return element=document.getElementById("mermaid-container"),t.abrupt("return",this.$nextTick((function(){return console.log("Updating mermaid chart"),null!=element&&element.removeAttribute("data-processed"),mermaid.init(),n.chartRendered=!0})));case 14:case"end":return t.stop()}}),t,this)}))),function(t){return y.apply(this,arguments)})}},methods:{helloWorld:function(){return console.log("Hello world")},validate:function(t){var i,e,n,c,d;if(n=t.split("\n"),0!==o(n[0]))throw new r("The first line must not be indented");if(0===o(n[1]))throw new r("The second line must be indented");for(d=o(n[1],1),i=e=2,c=n.length;2<=c?e<c:e>c;i=2<=c?++e:--e){if(o(n[i],d)>o(n[i-1],d)+1)throw new r("Line ".concat(i+1," is indented by more than one level more than the previous line"));if(o(n[i],d)<1)throw new r("Line ".concat(i+1," is not indented; only one root topic is allowed"))}return this.context=n.map((function(line){return line.replace(/^(\s*)/,"  ".repeat(o(line,d)))})).join("\n"),console.log({context:this.context}),!0}}},O=j,L=(n(401),n(68)),component=Object(L.a)(O,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-tabs",{attrs:{"nav-wrapper-class":"sticky-top bg-white"}},[n("b-tab",{attrs:{title:"Mind map"}},[n("b-container",[n("b-row",{staticClass:"sticky-top",staticStyle:{height:"calc(100vh - 200px)"},attrs:{"align-v":"center"}},[n("b-col",[t.isValid?n("pre",{staticClass:"mermaid",attrs:{id:"mermaid-container"},domProps:{textContent:t._s(t.mermaidString)}}):n("b-alert",{attrs:{variant:"danger",show:""}},[n("strong",[t._v("Cannot render the mind map; please edit the context in the "),n("em",[t._v("Plain text")]),t._v(" tab.")]),n("ul",[n("li",[t._v("Exactly one line with no indentation in the beginning")]),n("li",[t._v("The second line must be indented by one level")]),n("li",[t._v("Every next line must be indented by not more than previous line plus one and not less than one level")])])])],1)],1)],1)],1),n("b-tab",{attrs:{title:"Plain text"}},[n("b-textarea",{style:{borderColor:t.isValid?"transparent":"red",fontFamily:"monospace"},attrs:{rows:"25"},model:{value:t.context,callback:function(e){t.context=e},expression:"context"}})],1)],1)],1)}),[],!1,null,"70a145b4",null);e.default=component.exports}}]);