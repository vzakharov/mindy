(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{393:function(e,t,n){"use strict";var r,o,c,l=n(33);n(1);o=!1,r=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.args,r=t.callback,c=t.method,h=void 0===c?"debug":c;o||((e=console)[h].apply(e,Object(l.a)(n)),"function"==typeof r&&r());return n[n.length-1]},c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r({args:t})},c.breakpoint=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r({args:t,callback:function(){}})},["log","warn","debug","error"].forEach((function(e){return c[e]=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r({args:n,method:e})}})),c.disable=function(){return o=!0},t.a=c},399:function(e,t,n){"use strict";var r,o=n(0),c=n(34),l=(n(84),n(1),n(15),n(5),n(4),n(2),n(6),n(3),n(7),n(394)),h=n.n(l);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a={data:function(){return{busy:{},whilst:{}}},methods:{actionPromise:function(e){return h.a.get(this.whilst,e,Promise.resolve())},try:(r=Object(c.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l,f,track,y,v,k,m,O,w,j=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=j.length>2&&void 0!==j[2]?j[2]:{},o=r.oneAtATime,c=r.errorMessage,l=r.except,f=r.track,track=void 0===f||f,y=r.mixpanelProps,!o||!h.a.get(this.whilst,t)){e.next=4;break}return console.warn("Already ".concat(t,"; skipping")),e.abrupt("return",h.a.get(this.whilst,t));case 4:return track&&(k=this.mixpanel),this.$set(this.busy,t,!0),O=null,m=null,h.a.set(this.whilst,t,new Promise((function(e,t){return O=e,m=t}))),e.prev=9,console.log("Started ".concat(t)),null!=k&&k.track("".concat(t," started"),y),e.t0=O,e.next=15,n.call(this);case 15:return e.t1=w=e.sent,(0,e.t0)(e.t1),null!=k&&k.track("".concat(t," succeeded"),y),e.abrupt("return",w);case 21:return e.prev=21,e.t2=e.catch(9),v=e.t2,console.error("Error while ".concat(t,": ").concat(v)),null!=k&&k.track("".concat(t," failed"),d({error:v.message},y)),"function"==typeof c&&(c=c(v)),this.alert(c),"function"==typeof l&&l(v),e.abrupt("return",m(v));case 30:return e.prev=30,this.$set(this.busy,t,!1),h.a.unset(this.whilst,t),console.log("Finished ".concat(t)),e.finish(30);case 35:case"end":return e.stop()}}),e,this,[[9,21,30,35]])}))),function(e,t){return r.apply(this,arguments)}),alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Something went wrong.";return this.$bvToast.toast("See console for error details.",{title:e,variant:"danger",solid:!0,autoHideDelay:5e3})}}}},401:function(e,t,n){"use strict";var r=n(451),o=n.n(r);t.a={data:function(){return o.a.init("f9ed5012981005142ed33251c919eb41",{debug:!0}),{mixpanel:o.a}}}},407:function(e,t,n){"use strict";var r=n(0),o=n(35),c=n(40),l=(n(1),n(51),n(18),n(2),n(16),n(3),n(15),n(5),n(4),n(6),n(7),n(417)),h=n(393),f=n(394),d=n.n(f);function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=function(){var e,t,n,f,y,k,m,O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},w=O.prefix,j=O.keys,A=O.format,I=void 0===A?"json":A;return"yaml"===I?(y=l.a.load,n=l.a.dump):(y=JSON.parse,n=JSON.stringify),m=null,e=function(e,t){return"object"===Object(c.a)(t)&&null!==t?y(e||null):"number"==typeof t?parseFloat(e||null):"boolean"==typeof t?"boolean"==typeof e?e:"true"===e:e||null},k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(d.a.identity).join(".")},t=j.reduce((function(e,t){var n;if(d.a.isArray(t)){var c=t,l=Object(o.a)(c,2);t=l[0],n=l[1].dataPath}return Object.assign(e,Object(r.a)({},t,k(n,t)))}),{}),j=j.map((function(e){return d.a.isArray(e)?e[0]:e})),f=j.reduce((function(e,t){return Object.assign(e,Object(r.a)({},t,k(w,t)))}),{}),{data:function(){return{syncLocal:{promise:new Promise((function(e){return m=e})),values:null,loaded:!1,ignoreWatchers:[]}}},mounted:function(){var n=this;return j.forEach((function(r){var o,c,l;if(l=window.localStorage.getItem(f[r]),o=t[r],void 0===(c=d.a.get(n,o)))throw new Error("Default value for key `".concat(r,"` does not exist at `").concat(o,"`"));return l=e(l,c),d.a.set(n,o,Object(h.a)("Setting ".concat(r," at ").concat(o," to:"),d.a.isObject(c)&&!d.a.isArray(c)?v(v({},c),l):l||c))})),this.$nextTick((function(){return Object.assign(n.syncLocal,{values:d.a.mapValues(t,(function(e){return d.a.get(n,e)})),loaded:!0}),m(n.syncLocal.values)}))},watch:v({},j.reduce((function(e,t){return Object.assign(e,Object(r.a)({},t,{deep:!0,handler:function(e){var r;return this.syncLocal.loaded?(r=f[t],window.localStorage.setItem(r,"object"===Object(c.a)(e)?n(e):e),this.syncLocal.ignoreWatchers=d.a.without(this.syncLocal.ignoreWatchers,t)):this.syncLocal.ignoreWatchers.push(t)}}))}),{}))}}},538:function(e,t,n){"use strict";n.r(t);var r=n(34),o=(n(84),n(87)),c=n.n(o),l=n(399),h=n(401),f=n(407),d={mixins:[l.a,h.a,Object(f.a)({keys:["acknowledged"],prefix:"mindy"})],props:["value"],data:function(){return console.log("OpenAIKeyModal value: ".concat(this.value)),{openAIkey:this.value,checkingKey:!1,keyValid:!!this.value,acknowledged:!1}},computed:{canClose:function(){return this.openAIkey&&this.keyValid&&this.acknowledged}},methods:{show:function(){return this.$refs.openAIKeyModal.show()},hide:function(){return this.$refs.openAIKeyModal.hide()},checkKey:function(){var e=this;return this.try("checkingKey",Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Checking key ".concat(e.openAIkey)),t.next=3,c.a.post("https://api.openai.com/v1/engines/text-ada-001/completions",{prompt:"Hello",max_tokens:1},{headers:{Authorization:"Bearer ".concat(e.openAIkey)}});case 3:return e.$bvToast.toast("Yay, the key is valid! Enjoy the app!",{title:"Success",variant:"success",autoHideDelay:3e3}),e.keyValid=!0,e.$emit("input",e.openAIkey),t.abrupt("return",e.mixpanel.track("OpenAI key validated"));case 7:case"end":return t.stop()}}),t)}))),{errorMessage:function(e){var t;return 401===(null!=e&&null!=(t=e.response)?t.status:void 0)&&"Invalid API key"},except:function(){return e.mixpanel.track("Error checking OpenAI key")}})}}},y=n(68),component=Object(y.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{ref:"openAIKeyModal",attrs:{title:"Enter your OpenAI API key","hide-footer":!e.canClose,"no-close-on-backdrop":!e.canClose,"no-close-on-esc":!e.canClose,"hide-header-close":!e.canClose,"ok-only":""}},[n("h4",[e._v("Why?")]),n("p",[e._v("This app uses the OpenAI API to generate texts.\nWe "),n("a",{attrs:{href:"https://github.com/vzakharov/ideality-nuxt/blob/master/api/polygon/index.coffee",target:"_blank"}},[e._v("do not store")]),e._v("\nyour API key anywhere on our servers.")]),n("p",[e._v("You can get your OpenAI keyÂ "),n("a",{attrs:{href:"https://beta.openai.com/account/api-keys",target:"_blank"}},[e._v("here")]),e._v(".")]),n("b-form",{on:{submit:function(t){return t.preventDefault(),e.checkKey()}}},[n("b-form-group",{attrs:{label:"OpenAI API key","label-for":"openAIkey"}},[n("b-form-input",{attrs:{id:"openAIkey",type:"text",placeholder:"sk-...",disabled:e.checkingKey},model:{value:e.openAIkey,callback:function(t){e.openAIkey=t},expression:"openAIkey"}})],1),n("b-button",{attrs:{type:"submit",variant:e.keyValid?"outline-secondary":"primary",disabled:!e.openAIkey||e.checkingKey}},[n("b-spinner",{directives:[{name:"show",rawName:"v-show",value:e.checkingKey,expression:"checkingKey"}],attrs:{small:"",type:"grow"}}),e._v(e._s(e.checkingKey?"Checking...":"Check and save"))],1)],1),n("b-checkbox",{staticClass:"mt-4",staticStyle:{"font-size":"1.2em"},model:{value:e.acknowledged,callback:function(t){e.acknowledged=t},expression:"acknowledged"}},[e._v("I understand that I will be spending my own OpenAI tokens (credits) to generate texts.")])],1)}),[],!1,null,null,null);t.default=component.exports}}]);